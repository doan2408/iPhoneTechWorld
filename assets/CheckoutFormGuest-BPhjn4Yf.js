import{_ as Le,u as Pe,z as Ge,r as t,c as j,w as L,o as te,b as o,d as i,e as a,f as oe,k as p,h as P,t as u,F as N,m as S,v as y,W as J,i as ie,y as ue,U as G,X as re,Y as de,D as Me,S as De,G as Ie}from"./index-I05jmhuU.js";import{l as Ue,t as qe,g as ce,a as Be}from"./MyOrderClient-DquLT7bn.js";import{p as Fe,w as He}from"./ward-CwBRO0K0.js";import{g as Ke,v as Re,c as Xe}from"./PhieuGiamGiaClient-Bkg5j3rZ.js";const Ee={class:"container"},je={class:"checkout-card"},$e={class:"section"},Oe={class:"current-address-display"},Ye={class:"address-name-display"},ze={class:"address-phone-display"},Je={class:"address-phone-display"},Qe={key:0,class:"address-detail-display"},We={key:1,class:"address-detail-display text-gray-400",style:{color:"red"}},Ze={class:"section"},ea={class:"product-item"},aa={class:"product-image-container"},sa=["src","alt"],la={class:"product-info"},na={class:"product-name"},ta={class:"product-type"},oa={class:"product-pricing"},ia={class:"product-price"},ua={class:"quantity-control"},ra=["value"],da={class:"product-subtotal"},ca={key:0,class:"section"},ha={class:"radio-group"},va={class:"radio-option"},pa={class:"radio-content"},ma={class:"shipping-cost"},ga={key:0,class:"radio-option"},ya={class:"radio-content"},fa={class:"shipping-cost"},ba={class:"section"},ka={class:"payment-methods"},_a=["value"],wa=["src","alt"],Ca={class:"summary-section"},Ta={class:"summary-details"},xa={class:"summary-value"},Va={class:"summary-row"},Na={class:"summary-value"},Sa={key:0,class:"summary-row voucher-discount-row"},Aa={class:"summary-value"},La={class:"summary-row total-row"},Pa={class:"summary-value"},Ga={class:"modal-content"},Ma={class:"modal-body"},Da={class:"address-modal-content"},Ia={key:0,class:"form-grid address-form-fields modal-new-address-form"},Ua={key:0,class:"error-text"},qa={key:0,class:"error-text"},Ba={key:0,class:"error-text"},Fa=["value"],Ha={key:0,class:"error-text"},Ka=["disabled"],Ra=["value"],Xa={key:1,class:"error-text"},Ea={key:0,class:"error-text"},ja={class:"modal-content"},$a={class:"modal-body"},Oa={class:"voucher-modal-content"},Ya={class:"voucher-input-group"},za={class:"voucher-list"},Ja={key:0,style:{"text-align":"center","font-style":"italic"}},Qa=["onClick"],Wa={key:0,class:"applied-voucher-info"},Za={class:"applied-voucher-text"},es={class:"applied-voucher-discount"},as={key:1,class:"voucher-error"},he="H√† N·ªôi",ss={__name:"CheckoutFormGuest",setup(ls){const f=Pe(),Q=Ge(),W=t(!1),M=t([]);j(()=>{const s=d.value;return s?[s.soNha,s.tenDuong,s.xaPhuong,s.quanHuyen,s.tinhThanhPho].filter(Boolean).join(", "):""});const A=t(!1),D=t(M.value.length>0?M.value[0].id:"new"),w=t(D.value),ve=t({name:"",phone:"",email:"",address:""}),c=t({name:"",phone:"",email:"",address:""}),d=t({name:"",phone:"",email:"",address:""});L(()=>c.value.name,s=>{d.value.name=s}),L(()=>c.value.phone,s=>{d.value.phone=s}),L(()=>c.value.email,s=>{d.value.email=s});const r=t({}),pe=()=>{var s,e,n,l;return r.value={},(s=c.value.name)!=null&&s.trim()||(r.value.name="Vui l√≤ng nh·∫≠p h·ªç v√† t√™n"),(e=c.value.phone)!=null&&e.trim()?/^0\d{9}$/.test(c.value.phone)||(r.value.phone="S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá"):r.value.phone="Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i",(n=c.value.email)!=null&&n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.value.email)||(r.value.email="Email kh√¥ng h·ª£p l·ªá"):r.value.email="Vui l√≤ng nh·∫≠p email",g.value||(r.value.tinh="Vui l√≤ng ch·ªçn t·ªânh/th√†nh ph·ªë"),_.value||(r.value.xa="Vui l√≤ng ch·ªçn x√£/ph∆∞·ªùng"),(l=X.value)!=null&&l.trim()||(r.value.address="Vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ chi ti·∫øt"),Object.keys(r.value).length===0};function me(){if(pe()){if(w.value==="new")d.value={...c.value},Z();else{const s=M.value.find(e=>e.id===w.value);s&&(d.value=s)}A.value=!1}}L(D,()=>{Z()});function Z(){var s,e;if(w.value==="new"){const n=[X.value,(s=_.value)==null?void 0:s.name,(e=g.value)==null?void 0:e.name].filter(Boolean).join(", ");d.value={name:c.value.name,phone:c.value.phone,email:c.value.email,address:n}}else{const n=M.value.find(l=>l.id===w.value);n&&(d.value={...n})}Ie(()=>{d.value&&Te()}),A.value=!1}const ge=()=>{r.value={},w.value=D.value,D.value==="new"?c.value={...ve.value}:c.value={name:"",phone:"",email:"",address:""},A.value=!0},ee=()=>{A.value=!1},$=t(!1);t("");const O=t(""),I=t({code:"",discount:0}),Y=t({code:"",discount:0});t("");const ae=t(""),U=t([]),b=t(null),C=t(0),se=async()=>{try{const s=await Ke(O.value,null,H.value);U.value=s.data}catch(s){console.error(s||"L·ªói l·∫•y danh s√°ch phi·∫øu gi·∫£m gi√°")}},z=()=>{$.value=!1},ye=s=>{var n,l,h,v,m;b.value=s,console.log("1",b.value),((n=b.value)==null?void 0:n.loaiGiamGia)==="Ph·∫ßn trƒÉm"?(C.value=H.value*((l=b.value)==null?void 0:l.giaTriGiamGia)/100,((h=b.value)==null?void 0:h.giaTriGiamGiaToiDa)<C.value&&(C.value=(v=b.value)==null?void 0:v.giaTriGiamGiaToiDa)):(m=b.value)!=null&&m.giaTriGiamGia&&(C.value=b.value.giaTriGiamGia);const e={code:s.maGiamGia,discount:C.value};V.value=V.value-e,I.value=e,$.value=!1},q=t(0),T=t(0),x=t("standard");t("");const fe=t(!1),k=t([]);te(()=>{if(Q.query.products)try{const s=JSON.parse(decodeURIComponent(Q.query.products));k.value=Array.isArray(s)?s:[s]}catch(s){console.error("L·ªói parse d·ªØ li·ªáu s·∫£n ph·∫©m:",s)}se()}),L(k,s=>{console.log("üëÄ product thay ƒë·ªïi:",s),console.log("üíµ Subtotal m·ªõi:",H.value),se()});const B=t({id:"fashion-insurance",name:"B·∫£o hi·ªÉm Th·ªùi trang",description:"B·∫£o v·ªá s·∫£n ph·∫©m ƒë∆∞·ª£c b·∫£o hi·ªÉm kh·ªèi thi·ªát h·∫°i do s·ª± c·ªë b·∫•t ng·ªù, ti·∫øp x√∫c v·ªõi ch·∫•t l·ªèng ho·∫∑c h∆∞ h·ªèng trong qu√° tr√¨nh s·ª≠ d·ª•ng.",price:1199,quantity:1}),F=j(()=>{switch(x.value){case"standard":return q.value;case"express":return T.value;default:return 0}}),H=j(()=>{var e,n;let s=0;if(Array.isArray(k.value))for(const l of k.value){const h=Number(l.gia)||0,v=Number(l.soLuong)||0;s+=h*v}return fe.value&&((e=B.value)!=null&&e.price)&&((n=B.value)!=null&&n.quantity)&&(s+=Number(B.value.price)*Number(B.value.quantity)),s}),V=j(()=>Number(H.value||0)+Number(F.value||0)-Number(C.value||0));console.log("total",V.value);const be=async()=>{var n;const s={hinhThucThanhToan:R.value,soTienKhachDua:V.value,thanhTien:V.value,phiShip:F.value,shippingMethod:x.value.toUpperCase(),sdtNguoiNhan:d.value.phone,tenNguoiNhan:d.value.name,emailNguoiNhan:d.value.email,diaChiGiaoHang:[d.value.address].filter(Boolean).join(", "),sanPhamRequests:k.value.map(l=>({idSanPham:l.idSanPhamChiTiet,soLuong:l.soLuong})),idPhieuGiamGia:(n=b.value)==null?void 0:n.id};if(console.log("shipping",s),F.value==0){f.warning("Ch∆∞a ch·ªçn ph∆∞∆°ng th·ª©c giao h√†ng");return}if(!d.value.phone||!d.value.name||!s.diaChiGiaoHang){alert("Vui l√≤ng ch·ªçn ho·∫∑c nh·∫≠p ƒë·ªãa ch·ªâ giao h√†ng.");return}W.value=!0;const e=f.info("ƒêang x·ª≠ l√Ω ƒë∆°n h√†ng...",{timeout:!1,closeButton:!1});try{const l=await qe(s);if(l.data.message==="REDIRECT_VNPAY"){window.location.href=l.data.paymentUrl;return}l.data.message==="ƒê·∫∑t h√†ng th√†nh c√¥ng"?(f.dismiss(e),f.success("ƒê·∫∑t h√†ng th√†nh c√¥ng"),k.value.forEach(h=>{const v=Me.xoaSanPhamKhoiGio(h.idSanPhamChiTiet)}),De.push({name:"successClient"})):(f.dismiss(e),f.error(l.data.message||"C√≥ l·ªói x·∫£y ra"))}catch(l){f.dismiss(e),f.error("ƒê√£ x·∫£y ra l·ªói. Vui l√≤ng th·ª≠ l·∫°i."),console.error("L·ªói khi thanh to√°n:",l)}finally{W.value=!1}},K=t([]),R=t(null);t(!1);const ke=async()=>{try{const s=await Ue();K.value=s.data,K.value.length>0&&(R.value=K.value[0].code)}catch(s){console.error("L·ªói khi t·∫£i ph∆∞∆°ng th·ª©c thanh to√°n:",s),f.error("Kh√¥ng th·ªÉ t·∫£i c√°c ph∆∞∆°ng th·ª©c thanh to√°n. Vui l√≤ng th·ª≠ l·∫°i sau.")}},_e=s=>{switch(s){case"COD":return Xe;case"VNPAY":return Re;default:return"/icons/default.png"}};te(async()=>{ke()});const le=s=>new Intl.NumberFormat("vi-VN").format(s),g=t(""),_=t(""),X=t(""),we=t(Fe),Ce=t(Object.values(He)),E=t([]);t([]);const Te=async()=>{var e;const s=[(e=g.value)==null?void 0:e.name].filter(Boolean).join(", ");console.log("ƒê·ªãa ch·ªâ ng∆∞·ªùi nh·∫≠n ƒë·∫ßy ƒë·ªß (fullAddress):",s),console.log("ƒê·ªãa ch·ªâ c·ª≠a h√†ng (storeAddress):",he);try{const[n,l]=await Promise.all([ne(he),ne(s)]);console.log("T·ªça ƒë·ªô c·ª≠a h√†ng (from):",n),console.log("T·ªça ƒë·ªô ng∆∞·ªùi nh·∫≠n (to):",l);const h=await xe(n,l);console.log("Kho·∫£ng c√°ch t√≠nh ƒë∆∞·ª£c:",h),T.value=Ve(h),q.value=Ne(h),console.log(`Kho·∫£ng c√°ch: ${h} km, Ph√≠ ship: ${T.value.toLocaleString("vi-VN")} VNƒê`)}catch(n){console.error("L·ªói khi t√≠nh ph√≠ ship:",n),T.value=5e4,q.value=3e4,console.log("√Åp d·ª•ng ph√≠ m·∫∑c ƒë·ªãnh do l·ªói: 30,000 VNƒê")}},ne=async s=>{console.log("ƒêang g·ªçi API l·∫•y t·ªça ƒë·ªô cho:",s);try{const n=(await ce(s)).data;if(console.log("Ph·∫£n h·ªìi t·ª´ API /geo (ƒë·ªãa ch·ªâ g·ªëc):",n),Array.isArray(n)&&n.length>0&&n[0].lat&&n[0].lon){const m={lat:parseFloat(n[0].lat),lon:parseFloat(n[0].lon)};return console.log(`T·ªça ƒë·ªô tr·∫£ v·ªÅ cho ${s}:`,m),m}const l=s.replace(/^,\s*/,"").trim();console.log("Th·ª≠ ƒë·ªãnh d·∫°ng thay th·∫ø:",l);const v=(await ce(l)).data;if(console.log("Ph·∫£n h·ªìi t·ª´ API /geo (thay th·∫ø):",v),Array.isArray(v)&&v.length>0&&v[0].lat&&v[0].lon){const m={lat:parseFloat(v[0].lat),lon:parseFloat(v[0].lon)};return console.log(`T·ªça ƒë·ªô tr·∫£ v·ªÅ cho ${l}:`,m),m}return console.warn("Kh√¥ng t√¨m th·∫•y t·ªça ƒë·ªô h·ª£p l·ªá cho ƒë·ªãa ch·ªâ:",s,n),null}catch(e){return console.error("L·ªói khi l·∫•y t·ªça ƒë·ªô cho ƒë·ªãa ch·ªâ:",s,e),null}},xe=async(s,e)=>{var n,l;if(s.lat===e.lat&&s.lon===e.lon)return console.warn("Hai ƒëi·ªÉm tr√πng nhau, kho·∫£ng c√°ch = 0 km"),0;try{const v=(await Be(s,e)).data,m=(l=(n=v==null?void 0:v.routes)==null?void 0:n[0])==null?void 0:l.distance;return m!=null?Math.ceil(m/1e3):(console.warn("Kh√¥ng l·∫•y ƒë∆∞·ª£c kho·∫£ng c√°ch gi·ªØa 2 ƒëi·ªÉm (ki·ªÉm tra parsedData):",v),0)}catch(h){return console.error("L·ªói khi t√≠nh kho·∫£ng c√°ch gi·ªØa 2 ƒëi·ªÉm:",h),0}},Ve=s=>5e4,Ne=s=>s<=30?3e4:s>=30||s<=50?4e4:s>=50||s<=100?1500*s:s>=100||s<=500?1200*s:1e3*s,Se=async()=>{var s;if(_.value="",E.value=[],(s=g.value)!=null&&s.name)try{E.value=Ce.value.filter(e=>e.path.includes(g.value.name)),console.log("Danh s√°ch Ph∆∞·ªùng/X√£:",E.value)}catch(e){console.error("L·ªói khi l·∫•y danh s√°ch huy·ªán:",e)}},Ae=async()=>{console.log("X√£ ƒë∆∞·ª£c ch·ªçn:",_.value),T.value=null,_.value&&console.log("Calculating shipping fee after selecting ward:",_.value.name)};return(s,e)=>{var n;return i(),o("div",Ee,[a("div",je,[e[35]||(e[35]=a("h1",{class:"title"},"Thanh To√°n",-1)),a("div",$e,[e[14]||(e[14]=a("h2",{class:"section-title"},"ƒê·ªãa ch·ªâ nh·∫≠n h√†ng",-1)),a("div",Oe,[a("p",Ye,[e[10]||(e[10]=a("span",{style:{color:"blue"}},"H·ªç t√™n:",-1)),P(" "+u(d.value.name||"Ch∆∞a c√≥"),1)]),a("p",ze,[e[11]||(e[11]=a("span",{style:{color:"blue"}},"S·ªë ƒëi·ªán tho·∫°i:",-1)),P(" "+u(d.value.phone||"Ch∆∞a c√≥"),1)]),a("p",Je,[e[12]||(e[12]=a("span",{style:{color:"blue"}},"Email:",-1)),P(" "+u(d.value.email||"Ch∆∞a c√≥"),1)]),d.value.address?(i(),o("p",Qe,[e[13]||(e[13]=a("span",{style:{color:"blue"}},"ƒê·ªãa ch·ªâ nh·∫≠n h√†ng: ",-1)),P(u(d.value.address),1)])):(i(),o("p",We," Ch∆∞a c√≥ ƒë·ªãa ch·ªâ nh·∫≠n h√†ng ")),a("button",{onClick:ge,class:"change-button"},"Thay ƒë·ªïi ƒë·ªãa ch·ªâ")])]),a("div",Ze,[e[19]||(e[19]=a("h2",{class:"section-title"},"S·∫£n ph·∫©m",-1)),e[20]||(e[20]=a("i",{style:{color:"#d32f2f"}}," Theo ch√≠nh s√°ch c·ªßa c·ª≠a h√†ng, ch·ªâ nh·ªØng kh√°ch h√†ng ƒë√£ ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi ƒë∆∞·ª£c h∆∞·ªüng quy·ªÅn l·ª£i ƒë·ªïi tr·∫£ v√† b·∫£o h√†nh s·∫£n ph·∫©m. R·∫•t mong qu√Ω kh√°ch th√¥ng c·∫£m. ",-1)),e[21]||(e[21]=a("br",null,null,-1)),e[22]||(e[22]=a("i",{style:{color:"#d32f2f"}}," Qu√Ω kh√°ch vui l√≤ng ƒëƒÉng nh·∫≠p ho·∫∑c ƒëƒÉng k√Ω t√†i kho·∫£n ƒë·ªÉ ƒë∆∞·ª£c √°p d·ª•ng ƒë·∫ßy ƒë·ªß ch√≠nh s√°ch ƒë·ªïi tr·∫£ v√† b·∫£o h√†nh khi mua s·∫£n ph·∫©m. ",-1)),e[23]||(e[23]=a("br",null,null,-1)),e[24]||(e[24]=a("br",null,null,-1)),(i(!0),o(N,null,S(k.value,l=>(i(),o("div",{class:"product-item-wrapper",key:l.idGioHangChiTiet},[a("div",ea,[e[18]||(e[18]=a("input",{type:"checkbox",class:"product-checkbox",checked:"",disabled:""},null,-1)),a("div",aa,[a("img",{src:l.imageUrl,alt:l.tenSanPham,class:"product-image"},null,8,sa)]),a("div",la,[a("div",na,u(l.tenSanPham),1),a("div",ta,u(l.phienBan),1)]),a("div",oa,[a("div",ia,"‚Ç´"+u(l.gia.toLocaleString()),1),a("div",ua,[e[15]||(e[15]=a("button",{class:"quantity-button"},"-",-1)),a("input",{type:"text",value:l.soLuong,class:"quantity-input",readonly:""},null,8,ra),e[16]||(e[16]=a("button",{class:"quantity-button"},"+",-1))]),a("div",da," ‚Ç´"+u((l.gia*l.soLuong).toLocaleString()),1),e[17]||(e[17]=a("button",{class:"delete-button"},null,-1))])])]))),128)),e[25]||(e[25]=a("div",{class:"separator"},null,-1))]),d.value.address?(i(),o("div",ca,[e[28]||(e[28]=a("h2",{class:"section-title"},"Ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn",-1)),a("div",ha,[a("label",va,[a("div",pa,[y(a("input",{type:"radio",name:"shipping-method",value:"standard","onUpdate:modelValue":e[0]||(e[0]=l=>x.value=l),class:"radio-field"},null,512),[[J,x.value]]),e[26]||(e[26]=a("span",null,"V·∫≠n chuy·ªÉn ti√™u chu·∫©n",-1))]),a("span",ma," ƒë"+u(le(q.value)),1)]),g.value.name&&((n=g.value)==null?void 0:n.name.toLowerCase())==="h√† n·ªôi"?(i(),o("label",ga,[a("div",ya,[y(a("input",{type:"radio",name:"shipping-method",value:"express","onUpdate:modelValue":e[1]||(e[1]=l=>x.value=l),class:"radio-field"},null,512),[[J,x.value]]),e[27]||(e[27]=a("span",null,"V·∫≠n chuy·ªÉn nhanh",-1))]),a("span",fa," ‚Ç´"+u(le(T.value)),1)])):p("",!0)])])):p("",!0),a("div",ba,[e[29]||(e[29]=a("h2",{class:"section-title"},"Ph∆∞∆°ng th·ª©c thanh to√°n",-1)),a("div",ka,[(i(!0),o(N,null,S(K.value,l=>(i(),o("label",{class:"payment-method-option",key:l.code},[y(a("input",{type:"radio",name:"paymentMethod",value:l.code,"onUpdate:modelValue":e[2]||(e[2]=h=>R.value=h)},null,8,_a),[[J,R.value]]),a("img",{src:_e(l.code),alt:l.displayName,class:"payment-icon"},null,8,wa),a("span",null,u(l.displayName),1)]))),128))])]),a("div",Ca,[e[34]||(e[34]=a("h2",{class:"section-title"},"T·ªïng c·ªông",-1)),a("div",Ta,[(i(!0),o(N,null,S(k.value,l=>(i(),o("div",{class:"summary-row",key:l.id},[e[30]||(e[30]=a("span",null,"T·ªïng ti·ªÅn s·∫£n ph·∫©m:",-1)),a("span",xa,"‚Ç´"+u((l.gia*l.soLuong).toLocaleString()),1)]))),128)),a("div",Va,[e[31]||(e[31]=a("span",null,"Ph√≠ v·∫≠n chuy·ªÉn:",-1)),a("span",Na,"‚Ç´"+u(F.value.toLocaleString()),1)]),I.value.code?(i(),o("div",Sa,[a("span",null,"Gi·∫£m gi√° Voucher ("+u(I.value.code)+"):",1),a("span",Aa,"- ‚Ç´"+u(I.value.discount.toLocaleString()),1)])):p("",!0),e[33]||(e[33]=a("div",{class:"separator my-2"},null,-1)),a("div",La,[e[32]||(e[32]=a("span",null,"T·ªïng thanh to√°n:",-1)),a("span",Pa,"‚Ç´"+u(V.value.toLocaleString()),1)])]),a("button",{onClick:be,class:"buy-button"}," Mua h√†ng ")])]),oe(de,{name:"modal-fade"},{default:ie(()=>[A.value?(i(),o("div",{key:0,class:"modal-overlay",onClick:ue(ee,["self"])},[a("div",Ga,[a("div",Ma,[a("div",Da,[w.value==="new"?(i(),o("div",Ia,[a("div",null,[e[36]||(e[36]=a("label",{for:"modal-name",class:"label"},"H·ªç v√† t√™n",-1)),y(a("input",{id:"modal-name","onUpdate:modelValue":e[3]||(e[3]=l=>c.value.name=l),type:"text",placeholder:"Nh·∫≠p h·ªç v√† t√™n",class:"input-field"},null,512),[[G,c.value.name]]),r.value.name?(i(),o("span",Ua,u(r.value.name),1)):p("",!0)]),a("div",null,[e[37]||(e[37]=a("label",{for:"modal-phone",class:"label"},"S·ªë ƒëi·ªán tho·∫°i",-1)),y(a("input",{id:"modal-phone","onUpdate:modelValue":e[4]||(e[4]=l=>c.value.phone=l),type:"tel",placeholder:"Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i",class:"input-field"},null,512),[[G,c.value.phone]]),r.value.phone?(i(),o("span",qa,u(r.value.phone),1)):p("",!0)]),a("div",null,[e[38]||(e[38]=a("label",{for:"modal-phone",class:"label"},"Email",-1)),y(a("input",{id:"modal-email","onUpdate:modelValue":e[5]||(e[5]=l=>c.value.email=l),type:"tel",placeholder:"Nh·∫≠p email ng∆∞·ªùi nh·∫≠n",class:"input-field"},null,512),[[G,c.value.email]]),r.value.email?(i(),o("span",Ba,u(r.value.email),1)):p("",!0)]),e[42]||(e[42]=a("label",null,"Ch·ªçn t·ªânh:",-1)),y(a("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>g.value=l),onChange:Se,class:"select-box"},[e[39]||(e[39]=a("option",{disabled:"",value:""},"-- T·ªânh/Th√†nh ph·ªë --",-1)),(i(!0),o(N,null,S(we.value,l=>(i(),o("option",{key:l.code,value:l},u(l.name),9,Fa))),128))],544),[[re,g.value]]),r.value.tinh?(i(),o("span",Ha,u(r.value.tinh),1)):p("",!0),e[43]||(e[43]=a("label",null,"Ch·ªçn X√£:",-1)),y(a("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>_.value=l),onChange:Ae,class:"select-box",disabled:!g.value},[e[40]||(e[40]=a("option",{disabled:"",value:""},"-- Ph∆∞·ªùng/X√£ --",-1)),(i(!0),o(N,null,S(E.value,l=>(i(),o("option",{key:l.code,value:l},u(l.name),9,Ra))),128))],40,Ka),[[re,_.value]]),r.value.xa?(i(),o("span",Xa,u(r.value.xa),1)):p("",!0),a("div",null,[e[41]||(e[41]=a("label",{for:"modal-address",class:"label"},"ƒê·ªãa ch·ªâ",-1)),y(a("input",{id:"modal-address","onUpdate:modelValue":e[8]||(e[8]=l=>X.value=l),type:"text",placeholder:"Nh·∫≠p ƒë·ªãa ch·ªâ chi ti·∫øt",class:"input-field"},null,512),[[G,X.value]]),r.value.address?(i(),o("span",Ea,u(r.value.address),1)):p("",!0)])])):p("",!0)])]),a("div",{class:"modal-footer"},[a("button",{onClick:me,class:"apply-button"},"X√°c nh·∫≠n"),a("button",{onClick:ee,class:"cancel-button"},"H·ªßy")])])])):p("",!0)]),_:1}),oe(de,{name:"modal-fade"},{default:ie(()=>[$.value?(i(),o("div",{key:0,class:"modal-overlay",onClick:ue(z,["self"])},[a("div",ja,[a("div",{class:"modal-header"},[e[45]||(e[45]=a("h3",{class:"modal-title"},"√Åp d·ª•ng m√£ gi·∫£m gi√°",-1)),a("button",{class:"modal-close-button",onClick:z},e[44]||(e[44]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-x"},[a("path",{d:"M18 6 6 18"}),a("path",{d:"m6 6 12 12"})],-1)]))]),a("div",$a,[a("div",Oa,[a("div",Ya,[U.value?y((i(),o("input",{key:0,"onUpdate:modelValue":e[9]||(e[9]=l=>O.value=l),type:"text",placeholder:"Nh·∫≠p m√£ gi·∫£m gi√°",class:"input-field flex-grow"},null,512)),[[G,O.value]]):p("",!0)]),a("ul",za,[U.value?p("",!0):(i(),o("p",Ja," Kh√°ch h√†ng kh√¥ng c√≥ gi·∫£m gi√° n√†o ")),(i(!0),o(N,null,S(U.value,l=>(i(),o("li",{key:l.id,class:"voucher-item"},[a("div",null,[a("strong",null,u(l.tenGiamGia),1),a("small",null,"Gi·∫£m: "+u(l.giaTriGiamGia)+"%",1)]),a("button",{onClick:h=>ye(l),class:"apply-button"}," √Åp d·ª•ng ",8,Qa)]))),128))]),Y.value.code?(i(),o("div",Wa,[a("span",Za,[e[46]||(e[46]=P("M√£ ƒë√£ √°p d·ª•ng: ")),a("strong",null,u(Y.value.code),1)]),a("span",es,"- ‚Ç´"+u(Y.value.discount.toLocaleString()),1)])):p("",!0),ae.value?(i(),o("div",as,u(ae.value),1)):p("",!0)])]),a("div",{class:"modal-footer"},[a("button",{onClick:z,class:"apply-button"},"ƒê√≥ng")])])])):p("",!0)]),_:1})])}}},us=Le(ss,[["__scopeId","data-v-4fc72edf"]]);export{us as default};
