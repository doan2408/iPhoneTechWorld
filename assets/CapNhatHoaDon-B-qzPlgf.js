import{_ as q,r as u,c as H,o as S,b as g,d,e as n,f as r,j as l,t as y,y as D,v as s,U as e,X as c,k as v,B as _,Z as V,g as T,h as w,i as G,n as N,Y as z}from"./index-BFtI-PwE.js";import{c as m}from"./createLucideIcon-Bz9RgSCD.js";import{F as L,C as P,a as A}from"./file-text-BW0xByEq.js";import{T as F}from"./truck-7RCsuvKx.js";import{X as U}from"./x-CqAEaBnF.js";import{C as I}from"./circle-check-big-BGmdFvbD.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=m("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=m("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=m("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Q={class:"page-container"},Y={class:"container"},Z={class:"header-section"},$={class:"header-content"},J={class:"header-flex"},K={class:"page-subtitle"},R={class:"invoice-badge"},W={class:"card-wrapper"},nn={class:"card"},an={class:"card-header"},on={class:"header-flex"},tn={class:"icon-container blue"},sn={class:"card-content"},en={class:"grid-2"},ln={class:"form-group"},dn={class:"form-group"},rn={class:"form-group"},hn={class:"form-group"},un={class:"card-wrapper"},_n={class:"card"},pn={class:"card-header"},gn={class:"header-flex"},cn={class:"icon-container green"},vn={class:"card-content"},mn={class:"grid-2"},fn={class:"form-group"},bn={class:"form-group"},yn={class:"grid-2"},kn={class:"form-group"},xn={class:"form-group"},Cn={class:"form-group"},Vn={class:"card-wrapper"},Tn={class:"card"},wn={class:"card-header"},Nn={class:"header-flex"},Un={class:"icon-container orange"},Mn={class:"card-content"},Bn={class:"checkbox-group"},qn={class:"checkbox-wrapper"},Hn={key:0,class:"shipping-details"},Sn={class:"grid-2"},Dn={class:"form-group"},Gn={class:"form-group"},zn={class:"input-with-icon"},Ln={class:"card-wrapper"},Pn={class:"card"},An={class:"card-header"},Fn={class:"header-flex"},In={class:"icon-container purple"},Xn={class:"card-content"},jn={class:"grid-2"},On={class:"form-group"},En={class:"input-with-icon"},Qn={class:"form-group"},Yn={class:"input-with-icon"},Zn={class:"form-group"},$n={class:"input-with-icon"},Jn=["value"],Kn={class:"grid-2"},Rn={class:"form-group"},Wn={class:"form-group"},na={class:"form-group"},aa={class:"checkbox-group"},oa={class:"checkbox-wrapper"},ta={class:"action-buttons"},sa=["disabled"],ia={key:0,class:"loading-spinner"},ea={class:"toast-content"},la={class:"toast-message"},da={__name:"CapNhatHoaDon",setup(ra){const h=u(!1),f=u(!1),k=u(""),p=u("success"),o=u({id_hoa_don:0,ma_hoa_don:"",ma_van_don:"",id_khach_hang:null,id_phieu_giam_gia:null,ten_nguoi_mua:"",sdt_nguoi_mua:"",ten_nguoi_nhan:"",sdt_nguoi_nhan:"",dia_chi_giao_hang:"",ngay_dat_hang:"",is_shipping:!1,shipping_method:"",phi_ship:0,tong_tien:0,so_tien_giam:0,thanh_tien:0,ngay_tao_hoa_don:"",ngay_tao_don_hang:"",loai_hoa_don:"",ngay_thanh_toan:"",trang_thai_thanh_toan:"",is_delete:!1,trang_thai_don_hang:""}),x=H(()=>{const i=o.value.tong_tien||0,a=o.value.so_tien_giam||0,t=o.value.is_shipping&&o.value.phi_ship||0;return i-a+t}),M=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),C=(i,a="success")=>{k.value=i,p.value=a,f.value=!0,setTimeout(()=>{f.value=!1},4e3)},b=()=>{window.history.back()},B=async()=>{h.value=!0;try{o.value.thanh_tien=x.value,console.log("Cập nhật hóa đơn:",o.value),await new Promise(i=>setTimeout(i,1500)),C(`Cập nhật hóa đơn ${o.value.ma_hoa_don} thành công!`,"success"),setTimeout(()=>{b()},2e3)}catch(i){console.error("Lỗi cập nhật hóa đơn:",i),C("Có lỗi xảy ra khi cập nhật hóa đơn!","error")}finally{h.value=!1}};return S(()=>{const i={id_hoa_don:1,ma_hoa_don:"HD001",ma_van_don:"VD001",id_khach_hang:1,id_phieu_giam_gia:null,ten_nguoi_mua:"Nguyễn Văn A",sdt_nguoi_mua:"0123456789",ten_nguoi_nhan:"Nguyễn Văn B",sdt_nguoi_nhan:"0987654321",dia_chi_giao_hang:"123 Đường ABC, Quận 1, TP.HCM",ngay_dat_hang:"2024-01-15",is_shipping:!0,shipping_method:"Giao hàng nhanh",phi_ship:3e4,tong_tien:5e5,so_tien_giam:5e4,thanh_tien:48e4,ngay_tao_hoa_don:"2024-01-15",ngay_tao_don_hang:"2024-01-15",loai_hoa_don:"Bán lẻ",ngay_thanh_toan:"2024-01-15",trang_thai_thanh_toan:"Đã thanh toán",is_delete:!1,trang_thai_don_hang:"Đang giao hàng"};o.value=i}),(i,a)=>(d(),g("div",Q,[n("div",Y,[n("div",Z,[a[19]||(a[19]=n("div",{class:"header-blur"},null,-1)),n("div",$,[n("div",J,[n("button",{onClick:b,class:"back-button"},[r(l(X),{class:"back-icon"})]),n("div",null,[a[18]||(a[18]=n("h1",{class:"page-title"},"Cập nhật hóa đơn",-1)),n("p",K,[n("span",R,y(o.value.ma_hoa_don),1)])])])])]),n("form",{onSubmit:D(B,["prevent"]),class:"form-container"},[n("div",W,[n("div",nn,[n("div",an,[n("div",on,[n("div",tn,[r(l(L),{class:"icon"})]),a[20]||(a[20]=n("div",null,[n("h2",{class:"card-title"},"Thông tin cơ bản"),n("p",{class:"card-subtitle"},"Thông tin chung của hóa đơn")],-1))])]),n("div",sn,[n("div",en,[n("div",ln,[a[21]||(a[21]=n("label",{for:"ma_hoa_don",class:"form-label"},"Mã hóa đơn",-1)),s(n("input",{id:"ma_hoa_don","onUpdate:modelValue":a[0]||(a[0]=t=>o.value.ma_hoa_don=t),disabled:"",class:"form-input disabled"},null,512),[[e,o.value.ma_hoa_don]])]),n("div",dn,[a[22]||(a[22]=n("label",{for:"ma_van_don",class:"form-label"},"Mã vận đơn",-1)),s(n("input",{id:"ma_van_don","onUpdate:modelValue":a[1]||(a[1]=t=>o.value.ma_van_don=t),placeholder:"Nhập mã vận đơn",class:"form-input"},null,512),[[e,o.value.ma_van_don]])]),n("div",rn,[a[24]||(a[24]=n("label",{for:"loai_hoa_don",class:"form-label"},"Loại hóa đơn",-1)),s(n("select",{id:"loai_hoa_don","onUpdate:modelValue":a[2]||(a[2]=t=>o.value.loai_hoa_don=t),class:"form-select"},a[23]||(a[23]=[n("option",{value:""},"Chọn loại hóa đơn",-1),n("option",{value:"Bán lẻ"},"Bán lẻ",-1),n("option",{value:"Bán sỉ"},"Bán sỉ",-1),n("option",{value:"Online"},"Online",-1)]),512),[[c,o.value.loai_hoa_don]])]),n("div",hn,[a[25]||(a[25]=n("label",{for:"ngay_dat_hang",class:"form-label"},"Ngày đặt hàng",-1)),s(n("input",{id:"ngay_dat_hang","onUpdate:modelValue":a[3]||(a[3]=t=>o.value.ngay_dat_hang=t),type:"date",class:"form-input"},null,512),[[e,o.value.ngay_dat_hang]])])])])])]),n("div",un,[n("div",_n,[n("div",pn,[n("div",gn,[n("div",cn,[r(l(E),{class:"icon"})]),a[26]||(a[26]=n("div",null,[n("h2",{class:"card-title"},"Thông tin khách hàng"),n("p",{class:"card-subtitle"},"Chi tiết về người mua và người nhận")],-1))])]),n("div",vn,[n("div",mn,[n("div",fn,[a[27]||(a[27]=n("label",{for:"ten_nguoi_mua",class:"form-label required"},"Tên người mua",-1)),s(n("input",{id:"ten_nguoi_mua","onUpdate:modelValue":a[4]||(a[4]=t=>o.value.ten_nguoi_mua=t),required:"",class:"form-input",placeholder:"Nhập tên người mua"},null,512),[[e,o.value.ten_nguoi_mua]])]),n("div",bn,[a[28]||(a[28]=n("label",{for:"sdt_nguoi_mua",class:"form-label required"},"SĐT người mua",-1)),s(n("input",{id:"sdt_nguoi_mua","onUpdate:modelValue":a[5]||(a[5]=t=>o.value.sdt_nguoi_mua=t),required:"",class:"form-input",placeholder:"Nhập số điện thoại"},null,512),[[e,o.value.sdt_nguoi_mua]])])]),a[32]||(a[32]=n("div",{class:"separator"},null,-1)),n("div",yn,[n("div",kn,[a[29]||(a[29]=n("label",{for:"ten_nguoi_nhan",class:"form-label required"},"Tên người nhận",-1)),s(n("input",{id:"ten_nguoi_nhan","onUpdate:modelValue":a[6]||(a[6]=t=>o.value.ten_nguoi_nhan=t),required:"",class:"form-input",placeholder:"Nhập tên người nhận"},null,512),[[e,o.value.ten_nguoi_nhan]])]),n("div",xn,[a[30]||(a[30]=n("label",{for:"sdt_nguoi_nhan",class:"form-label required"},"SĐT người nhận",-1)),s(n("input",{id:"sdt_nguoi_nhan","onUpdate:modelValue":a[7]||(a[7]=t=>o.value.sdt_nguoi_nhan=t),required:"",class:"form-input",placeholder:"Nhập số điện thoại"},null,512),[[e,o.value.sdt_nguoi_nhan]])])]),n("div",Cn,[a[31]||(a[31]=n("label",{for:"dia_chi_giao_hang",class:"form-label required"},"Địa chỉ giao hàng",-1)),s(n("textarea",{id:"dia_chi_giao_hang","onUpdate:modelValue":a[8]||(a[8]=t=>o.value.dia_chi_giao_hang=t),required:"",rows:"3",placeholder:"Nhập địa chỉ giao hàng đầy đủ",class:"form-textarea"},null,512),[[e,o.value.dia_chi_giao_hang]])])])])]),n("div",Vn,[n("div",Tn,[n("div",wn,[n("div",Nn,[n("div",Un,[r(l(F),{class:"icon"})]),a[33]||(a[33]=n("div",null,[n("h2",{class:"card-title"},"Thông tin giao hàng"),n("p",{class:"card-subtitle"},"Chi tiết về việc giao hàng")],-1))])]),n("div",Mn,[n("div",Bn,[n("div",qn,[s(n("input",{id:"is_shipping","onUpdate:modelValue":a[9]||(a[9]=t=>o.value.is_shipping=t),type:"checkbox",class:"checkbox"},null,512),[[V,o.value.is_shipping]]),o.value.is_shipping?(d(),_(l(P),{key:0,class:"check-icon"})):v("",!0)]),a[34]||(a[34]=n("label",{for:"is_shipping",class:"checkbox-label"},"Có giao hàng",-1))]),o.value.is_shipping?(d(),g("div",Hn,[n("div",Sn,[n("div",Dn,[a[36]||(a[36]=n("label",{for:"shipping_method",class:"form-label"},"Phương thức giao hàng",-1)),s(n("select",{id:"shipping_method","onUpdate:modelValue":a[10]||(a[10]=t=>o.value.shipping_method=t),class:"form-select"},a[35]||(a[35]=[n("option",{value:""},"Chọn phương thức giao hàng",-1),n("option",{value:"Giao hàng tiêu chuẩn"},"Giao hàng tiêu chuẩn",-1),n("option",{value:"Giao hàng nhanh"},"Giao hàng nhanh",-1),n("option",{value:"Giao hàng hỏa tốc"},"Giao hàng hỏa tốc",-1)]),512),[[c,o.value.shipping_method]])]),n("div",Gn,[a[38]||(a[38]=n("label",{for:"phi_ship",class:"form-label"},"Phí ship (VNĐ)",-1)),n("div",zn,[s(n("input",{id:"phi_ship","onUpdate:modelValue":a[11]||(a[11]=t=>o.value.phi_ship=t),type:"number",min:"0",class:"form-input with-icon",placeholder:"0"},null,512),[[e,o.value.phi_ship,void 0,{number:!0}]]),a[37]||(a[37]=n("div",{class:"input-icon"},"₫",-1))])])])])):v("",!0)])])]),n("div",Ln,[n("div",Pn,[n("div",An,[n("div",Fn,[n("div",In,[r(l(j),{class:"icon"})]),a[39]||(a[39]=n("div",null,[n("h2",{class:"card-title"},"Thông tin thanh toán"),n("p",{class:"card-subtitle"},"Chi tiết về số tiền và thanh toán")],-1))])]),n("div",Xn,[n("div",jn,[n("div",On,[a[41]||(a[41]=n("label",{for:"tong_tien",class:"form-label required"},"Tổng tiền (VNĐ)",-1)),n("div",En,[s(n("input",{id:"tong_tien","onUpdate:modelValue":a[12]||(a[12]=t=>o.value.tong_tien=t),type:"number",min:"0",required:"",class:"form-input with-icon",placeholder:"0"},null,512),[[e,o.value.tong_tien,void 0,{number:!0}]]),a[40]||(a[40]=n("div",{class:"input-icon"},"₫",-1))])]),n("div",Qn,[a[43]||(a[43]=n("label",{for:"so_tien_giam",class:"form-label"},"Số tiền giảm (VNĐ)",-1)),n("div",Yn,[s(n("input",{id:"so_tien_giam","onUpdate:modelValue":a[13]||(a[13]=t=>o.value.so_tien_giam=t),type:"number",min:"0",class:"form-input with-icon",placeholder:"0"},null,512),[[e,o.value.so_tien_giam,void 0,{number:!0}]]),a[42]||(a[42]=n("div",{class:"input-icon"},"₫",-1))])])]),n("div",Zn,[a[45]||(a[45]=n("label",{for:"thanh_tien",class:"form-label"},"Thành tiền",-1)),n("div",$n,[n("input",{id:"thanh_tien",value:M(x.value),disabled:"",class:"form-input disabled total-amount with-icon"},null,8,Jn),a[44]||(a[44]=n("div",{class:"input-icon total"},"₫",-1))])]),n("div",Kn,[n("div",Rn,[a[47]||(a[47]=n("label",{for:"trang_thai_thanh_toan",class:"form-label"},"Trạng thái thanh toán",-1)),s(n("select",{id:"trang_thai_thanh_toan","onUpdate:modelValue":a[14]||(a[14]=t=>o.value.trang_thai_thanh_toan=t),class:"form-select"},a[46]||(a[46]=[T('<option value="" data-v-095fa855>Chọn trạng thái thanh toán</option><option value="Chưa thanh toán" data-v-095fa855>Chưa thanh toán</option><option value="Đã thanh toán" data-v-095fa855>Đã thanh toán</option><option value="Thanh toán một phần" data-v-095fa855>Thanh toán một phần</option><option value="Hoàn tiền" data-v-095fa855>Hoàn tiền</option>',5)]),512),[[c,o.value.trang_thai_thanh_toan]])]),n("div",Wn,[a[49]||(a[49]=n("label",{for:"trang_thai_don_hang",class:"form-label"},"Trạng thái đơn hàng",-1)),s(n("select",{id:"trang_thai_don_hang","onUpdate:modelValue":a[15]||(a[15]=t=>o.value.trang_thai_don_hang=t),class:"form-select"},a[48]||(a[48]=[T('<option value="" data-v-095fa855>Chọn trạng thái đơn hàng</option><option value="Chờ xử lý" data-v-095fa855>Chờ xử lý</option><option value="Đã xác nhận" data-v-095fa855>Đã xác nhận</option><option value="Đang chuẩn bị" data-v-095fa855>Đang chuẩn bị</option><option value="Đang giao hàng" data-v-095fa855>Đang giao hàng</option><option value="Đã giao hàng" data-v-095fa855>Đã giao hàng</option><option value="Đã hủy" data-v-095fa855>Đã hủy</option>',7)]),512),[[c,o.value.trang_thai_don_hang]])])]),n("div",na,[a[50]||(a[50]=n("label",{for:"ngay_thanh_toan",class:"form-label"},"Ngày thanh toán",-1)),s(n("input",{id:"ngay_thanh_toan","onUpdate:modelValue":a[16]||(a[16]=t=>o.value.ngay_thanh_toan=t),type:"date",class:"form-input"},null,512),[[e,o.value.ngay_thanh_toan]])]),n("div",aa,[n("div",oa,[s(n("input",{id:"is_delete","onUpdate:modelValue":a[17]||(a[17]=t=>o.value.is_delete=t),type:"checkbox",class:"checkbox danger"},null,512),[[V,o.value.is_delete]]),o.value.is_delete?(d(),_(l(U),{key:0,class:"check-icon danger"})):v("",!0)]),a[51]||(a[51]=n("label",{for:"is_delete",class:"checkbox-label danger"},"Đánh dấu xóa",-1))])])])]),n("div",ta,[n("button",{type:"button",onClick:b,class:"btn btn-secondary"},[r(l(U),{class:"btn-icon"}),a[52]||(a[52]=w(" Hủy "))]),n("button",{type:"submit",disabled:h.value,class:"btn btn-primary"},[h.value?(d(),g("div",ia)):(d(),_(l(O),{key:1,class:"btn-icon"})),w(" "+y(h.value?"Đang lưu...":"Cập nhật"),1)],8,sa)])],32),r(z,{name:"toast"},{default:G(()=>[f.value?(d(),g("div",{key:0,class:N(["toast",p.value==="success"?"toast-success":"toast-error"])},[n("div",ea,[n("div",{class:N(["toast-icon",p.value==="success"?"success":"error"])},[p.value==="success"?(d(),_(l(I),{key:0,class:"icon"})):(d(),_(l(A),{key:1,class:"icon"}))],2),n("span",la,y(k.value),1)])],2)):v("",!0)]),_:1})])]))}},va=q(da,[["__scopeId","data-v-095fa855"]]);export{va as default};
