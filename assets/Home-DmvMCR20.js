import{_ as ca,r as m,u as da,c as U,w as D,o as ra,a as v,b as o,d as c,e as a,f as e,g as M,h as P,i as u,j as L,s as ua,k as b,t as l,n as w,l as va,p as ha,F as $,m as G,q as pa,v as z,x as R,y as ma}from"./index-BFtI-PwE.js";import{B as _a,C as ga}from"./CompareBar-B9z7Bt5A.js";import{g as fa,a as ka}from"./ProductGuestService-Cb6B-xO9.js";const ba={class:"modern-ecommerce"},Ca={class:"hero-search-section"},ya={class:"container"},Pa={class:"search-hero"},wa={class:"search-content"},Va={class:"mega-search-bar"},xa={class:"search-input-container"},Ta={class:"quick-search-tags"},Sa={class:"tags-container"},La={class:"main-content"},$a={class:"container"},Fa={class:"content-header"},Ba={class:"results-info"},qa={class:"results-title"},Na={key:0,class:"results-count"},Da={key:1,class:"search-term"},Ma={class:"results-subtitle"},Ga={class:"view-controls"},za={class:"sort-control"},Ra={class:"sort-buttons"},Aa={class:"content-layout"},Ha={class:"filters-sidebar"},Ka={class:"filters-container"},Ua={class:"filter-header"},Ia={class:"filter-title"},Xa={key:0,class:"active-filters"},ja={class:"active-filters-list"},Ea={key:0,class:"filter-chip"},Oa={class:"chip-label"},Qa={key:1,class:"filter-chip"},Ja={class:"chip-label"},Wa={class:"filter-group"},Ya={class:"filter-group-header"},Za={class:"filter-icon"},at={class:"filter-info"},tt={class:"filter-value"},st={class:"filter-content"},et={class:"price-slider-wrapper"},nt={class:"price-quick-filters"},it=["onClick"],lt={class:"filter-group"},ot={class:"filter-group-header"},ct={class:"filter-icon"},dt={class:"filter-content"},rt={class:"category-options"},ut=["onClick"],vt={class:"option-content"},ht={class:"option-label"},pt={class:"products-main"},mt={class:"products-grid"},_t={class:"product-card-inner"},gt={class:"product-image-wrapper"},ft={class:"product-image-container-modern"},kt=["src","alt"],bt={class:"product-info-modern"},Ct={class:"product-meta"},yt={class:"product-brand"},Pt={class:"product-rating-compact"},wt={class:"product-title-modern"},Vt={class:"product-pricing"},xt={class:"price-current"},Tt={class:"product-actions-modern"},St=["onClick"],Lt={key:1,class:"compare-btn active",disabled:""},$t={class:"pagination-wrapper"},Ft={class:"pagination-info"},Bt={class:"no-products-modern"},F=16,V=0,x=5e7,qt=1e6,Nt={__name:"Home",setup(Dt){const T=m(!1),d=m(""),_=m(""),i=m([0,5e7]),r=m(1),f=m(0),h=m(""),B=m([]),I=da();let C=null;const g=async()=>{try{const n={page:r.value-1,tenSanPham:d.value||null,idLoai:_.value||null,giaMin:i.value[0],giaMax:i.value[1],sort:h.value||null},t=await ka(n);B.value=t.content||t,f.value=t.totalElements||t.length,T.value=d.value||_.value||i.value[0]!==V||i.value[1]!==x}catch(n){console.error("Lá»—i khi load sáº£n pháº©m:",n)}},X=()=>{C&&clearTimeout(C),C=setTimeout(()=>{r.value=1,g()},500)},q=m([{label:"Táº¥t cáº£",value:""}]),N=U(()=>B.value.length>0),j=async()=>{try{const n=await fa();q.value=[{label:"Táº¥t cáº£",value:""},...n.map(t=>({label:t.tenLoai,value:t.idLoai}))]}catch(n){console.error("Lá»—i khi láº¥y danh sÃ¡ch loáº¡i:",n)}},A=()=>{C&&clearTimeout(C),d.value="",_.value="",i.value=[V,x],T.value=!1,r.value=1,g()},E=n=>new Intl.NumberFormat("vi-VN").format(n)+"â‚«",y=n=>n>=1e6?(n/1e6).toFixed(n%1e6===0?0:1)+"tr":new Intl.NumberFormat("vi-VN").format(n)+"â‚«",O=[{label:"DÆ°á»›i 5tr",range:[0,5e6]},{label:"5tr - 10tr",range:[5e6,1e7]},{label:"10tr - 20tr",range:[1e7,2e7]},{label:"20tr - 30tr",range:[2e7,3e7]},{label:"TrÃªn 30tr",range:[3e7,5e7]}],Q=n=>{i.value=[...n]};U(()=>{if(h.value==="")return"Sáº¯p xáº¿p giÃ¡";if(h.value==="giaAsc")return"GiÃ¡ tÄƒng dáº§n";if(h.value==="giaDesc")return"GiÃ¡ giáº£m dáº§n"}),D(d,()=>{X()}),D([_,i],()=>{r.value=1,g()},{deep:!0}),D(r,()=>{g()}),ra(()=>{j(),g()});const k=m([]),J=n=>{if(k.value.length>=3){I.warning("Báº¡n chá»‰ cÃ³ thá»ƒ so sÃ¡nh tá»‘i Ä‘a 3 sáº£n pháº©m");return}k.value.find(t=>t.id===n.id)||k.value.push(n)},W=n=>k.value.some(t=>t.id===n.id),Y=n=>{k.value=k.value.filter(t=>t.id!==n.id)};return(n,t)=>{var K;const p=v("el-icon"),Z=v("el-input"),aa=v("Filter"),H=v("Close"),ta=v("el-slider"),sa=v("el-rate"),ea=v("Plus"),na=v("Check"),ia=v("router-link"),la=v("el-pagination"),oa=v("Refresh");return c(),o($,null,[a("section",ba,[e(_a),a("div",Ca,[a("div",ya,[a("div",Pa,[a("div",wa,[t[13]||(t[13]=a("h1",{class:"search-title"},[a("span",{class:"gradient-text"},"KhÃ¡m phÃ¡"),P(" sáº£n pháº©m yÃªu thÃ­ch ")],-1)),t[14]||(t[14]=a("p",{class:"search-subtitle"}," TÃ¬m kiáº¿m trong hÃ ng nghÃ¬n sáº£n pháº©m chÃ­nh hÃ£ng vá»›i giÃ¡ tá»‘t nháº¥t ",-1)),a("div",Va,[a("div",xa,[e(Z,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),placeholder:"TÃ¬m kiáº¿m iPhone...",class:"mega-search-input",size:"large",clearable:""},{prefix:u(()=>[e(p,{class:"search-icon"},{default:u(()=>[e(L(ua))]),_:1})]),_:1},8,["modelValue"])]),a("div",Ta,[t[12]||(t[12]=a("span",{class:"tags-label"},"TÃ¬m kiáº¿m phá»• biáº¿n:",-1)),a("div",Sa,[a("span",{class:"quick-tag",onClick:t[1]||(t[1]=s=>d.value="iPhone 15")},"iPhone 15"),a("span",{class:"quick-tag",onClick:t[2]||(t[2]=s=>d.value="iPhone 16")},"iPhone 16"),a("span",{class:"quick-tag",onClick:t[3]||(t[3]=s=>d.value="iPhone 14")},"iPhone 14"),a("span",{class:"quick-tag",onClick:t[4]||(t[4]=s=>d.value="iPhone 13")},"iPhone 13")])])])])])])]),a("div",La,[a("div",$a,[a("div",Fa,[a("div",Ba,[a("h5",qa,[f.value>0?(c(),o("span",Na,l(f.value),1)):b("",!0),t[15]||(t[15]=P(" sáº£n pháº©m ")),d.value?(c(),o("span",Da,'cho "'+l(d.value)+'"',1)):b("",!0)]),a("p",Ma," ÄÆ°á»£c cáº­p nháº­t "+l(new Date().toLocaleDateString("vi-VN")),1)]),a("div",Ga,[a("div",za,[a("div",Ra,[a("button",{class:w(["sort-text-btn",{active:h.value===""}]),onClick:t[5]||(t[5]=s=>{h.value="",r.value=1,g()})}," Máº·c Ä‘á»‹nh ",2),t[16]||(t[16]=a("span",{class:"sort-separator"},"â€¢",-1)),a("button",{class:w(["sort-text-btn",{active:h.value==="giaAsc"}]),onClick:t[6]||(t[6]=s=>{h.value="giaAsc",r.value=1,g()})}," GiÃ¡ tÄƒng dáº§n ",2),t[17]||(t[17]=a("span",{class:"sort-separator"},"â€¢",-1)),a("button",{class:w(["sort-text-btn",{active:h.value==="giaDesc"}]),onClick:t[7]||(t[7]=s=>{h.value="giaDesc",r.value=1,g()})}," GiÃ¡ giáº£m dáº§n ",2)])])])]),a("div",Aa,[a("aside",Ha,[a("div",Ka,[a("div",Ua,[a("h3",Ia,[e(p,null,{default:u(()=>[e(aa)]),_:1}),t[18]||(t[18]=P(" Bá»™ lá»c "))]),T.value?(c(),o("button",{key:0,onClick:A,class:"clear-all-btn"},[e(p,null,{default:u(()=>[e(L(va))]),_:1}),t[19]||(t[19]=P(" XÃ³a táº¥t cáº£ "))])):b("",!0)]),T.value?(c(),o("div",Xa,[a("div",ja,[i.value[0]!==V||i.value[1]!==x?(c(),o("div",Ea,[a("span",Oa,"GiÃ¡: "+l(y(i.value[0]))+" - "+l(y(i.value[1])),1),a("button",{class:"chip-remove",onClick:t[8]||(t[8]=s=>i.value=[V,x])},[e(p,null,{default:u(()=>[e(H)]),_:1})])])):b("",!0),_.value?(c(),o("div",Qa,[a("span",Ja,l((K=q.value.find(s=>s.value===_.value))==null?void 0:K.label),1),a("button",{class:"chip-remove",onClick:t[9]||(t[9]=s=>_.value="")},[e(p,null,{default:u(()=>[e(H)]),_:1})])])):b("",!0)])])):b("",!0),a("div",Wa,[a("div",Ya,[a("div",Za,[e(p,null,{default:u(()=>[e(L(ha))]),_:1})]),a("div",at,[t[20]||(t[20]=a("h4",{class:"filter-name"},"Khoáº£ng giÃ¡",-1)),a("span",tt,l(y(i.value[0]))+" - "+l(y(i.value[1])),1)])]),a("div",st,[a("div",et,[e(ta,{modelValue:i.value,"onUpdate:modelValue":t[10]||(t[10]=s=>i.value=s),range:"",min:V,max:x,step:qt,"format-tooltip":y,class:"modern-price-slider"},null,8,["modelValue"])]),a("div",nt,[(c(),o($,null,G(O,s=>a("button",{key:s.label,class:w(["price-quick-btn",{active:i.value[0]===s.range[0]&&i.value[1]===s.range[1]}]),onClick:S=>Q(s.range)},l(s.label),11,it)),64))])])]),a("div",lt,[a("div",ot,[a("div",ct,[e(p,null,{default:u(()=>[e(L(pa))]),_:1})]),t[21]||(t[21]=a("div",{class:"filter-info"},[a("h4",{class:"filter-name"},"Danh má»¥c")],-1))]),a("div",dt,[a("div",rt,[(c(!0),o($,null,G(q.value,s=>(c(),o("div",{key:s.value,class:w(["category-option",{active:_.value===s.value}]),onClick:S=>_.value=s.value},[a("div",vt,[a("span",ht,l(s.label),1)]),t[22]||(t[22]=a("div",{class:"option-indicator"},null,-1))],10,ut))),128))])])]),t[23]||(t[23]=M('<div class="filter-highlights" data-v-dac871aa><h4 class="highlights-title" data-v-dac871aa>Táº¡i sao chá»n chÃºng tÃ´i?</h4><div class="highlights-list" data-v-dac871aa><div class="highlight-item" data-v-dac871aa><div class="highlight-icon" data-v-dac871aa>ğŸšš</div><span data-v-dac871aa>Miá»…n phÃ­ váº­n chuyá»ƒn</span></div><div class="highlight-item" data-v-dac871aa><div class="highlight-icon" data-v-dac871aa>ğŸ›¡ï¸</div><span data-v-dac871aa>Báº£o hÃ nh chÃ­nh hÃ£ng</span></div><div class="highlight-item" data-v-dac871aa><div class="highlight-icon" data-v-dac871aa>âš¡</div><span data-v-dac871aa>Giao hÃ ng nhanh 2h</span></div></div></div>',1))])]),a("main",pt,[z(a("div",mt,[(c(!0),o($,null,G(B.value,s=>(c(),o("div",{key:s.id,class:"product-card-modern"},[e(ia,{"router-link":"",to:`detail/${s.id}`,class:"product-link-modern"},{default:u(()=>[a("div",_t,[a("div",gt,[a("div",ft,[a("img",{src:s.hinhAnh||"/img/no-image.png",alt:s.tenSanPham,class:"product-image-modern",loading:"lazy"},null,8,kt)])]),a("div",bt,[a("div",Ct,[a("span",yt,l(s.maXuatXu),1),a("div",Pt,[e(sa,{modelValue:s.averageRating,"onUpdate:modelValue":S=>s.averageRating=S,disabled:"","allow-half":"",size:"small",class:"rating-stars"},null,8,["modelValue","onUpdate:modelValue"])])]),a("h3",wt,l(s.tenSanPham),1),t[24]||(t[24]=a("div",{class:"product-features"},[a("span",{class:"feature-tag"},"ChÃ­nh hÃ£ng"),a("span",{class:"feature-tag"},"Báº£o hÃ nh 12 thÃ¡ng")],-1)),a("div",Vt,[a("div",xt,l(E(s.giaBan)),1)])]),a("div",Tt,[W(s)?(c(),o("button",Lt,[e(p,null,{default:u(()=>[e(na)]),_:1}),t[26]||(t[26]=a("span",null,"ÄÃ£ thÃªm",-1))])):(c(),o("button",{key:0,class:"compare",onClick:ma(S=>J(s),["stop","prevent"])},[e(p,null,{default:u(()=>[e(ea)]),_:1}),t[25]||(t[25]=a("span",null,"So sÃ¡nh",-1))],8,St))])])]),_:2},1032,["to"])]))),128))],512),[[R,N.value]]),z(a("div",$t,[a("div",Ft,[a("span",null,"Hiá»ƒn thá»‹ "+l((r.value-1)*F+1)+" - "+l(Math.min(r.value*F,f.value))+" trong "+l(f.value)+" sáº£n pháº©m",1)]),e(la,{"current-page":r.value,"onUpdate:currentPage":t[11]||(t[11]=s=>r.value=s),"page-size":F,total:f.value,layout:"prev, pager, next, jumper",background:!0,class:"modern-pagination"},null,8,["current-page","total"])],512),[[R,N.value&&f.value>F]]),z(a("div",Bt,[t[28]||(t[28]=M('<div class="no-products-illustration" data-v-dac871aa><div class="illustration-icon" data-v-dac871aa>ğŸ“±</div><div class="illustration-bg" data-v-dac871aa></div></div><h3 class="no-products-title" data-v-dac871aa>KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m</h3><p class="no-products-subtitle" data-v-dac871aa> HÃ£y thá»­ Ä‘iá»u chá»‰nh bá»™ lá»c hoáº·c tÃ¬m kiáº¿m vá»›i tá»« khÃ³a khÃ¡c </p>',3)),a("button",{class:"reset-filters-btn",onClick:A},[e(p,null,{default:u(()=>[e(oa)]),_:1}),t[27]||(t[27]=P(" Äáº·t láº¡i bá»™ lá»c "))])],512),[[R,!N.value]])])])])]),t[29]||(t[29]=M('<div class="trust-section" data-v-dac871aa><div class="container" data-v-dac871aa><div class="trust-indicators" data-v-dac871aa><div class="trust-item" data-v-dac871aa><div class="trust-icon" data-v-dac871aa>ğŸ›¡ï¸</div><div class="trust-content" data-v-dac871aa><h4 data-v-dac871aa>Sáº£n pháº©m chÃ­nh hÃ£ng</h4><p data-v-dac871aa>100% hÃ ng chÃ­nh hÃ£ng</p></div></div><div class="trust-item" data-v-dac871aa><div class="trust-icon" data-v-dac871aa>ğŸšš</div><div class="trust-content" data-v-dac871aa><h4 data-v-dac871aa>Giao hÃ ng toÃ n quá»‘c</h4><p data-v-dac871aa>Miá»…n phÃ­ tá»« 500K</p></div></div><div class="trust-item" data-v-dac871aa><div class="trust-icon" data-v-dac871aa>ğŸ’¬</div><div class="trust-content" data-v-dac871aa><h4 data-v-dac871aa>Há»— trá»£ 24/7</h4><p data-v-dac871aa>TÆ° váº¥n miá»…n phÃ­</p></div></div><div class="trust-item" data-v-dac871aa><div class="trust-icon" data-v-dac871aa>â†©ï¸</div><div class="trust-content" data-v-dac871aa><h4 data-v-dac871aa>Äá»•i tráº£ dá»… dÃ ng</h4><p data-v-dac871aa>Trong vÃ²ng 30 ngÃ y</p></div></div></div></div></div>',1))]),e(ga,{compareList:k.value,onRemove:Y},null,8,["compareList"])],64)}}},Rt=ca(Nt,[["__scopeId","data-v-dac871aa"]]);export{Rt as default};
