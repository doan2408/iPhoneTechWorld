import{u as Y,T as G,r as k,a as h,B as P,d as L,i as l,f as a,h as D,R as q,E as te,_ as $e,ar as ea,aw as aa,aB as la,aC as na,a7 as oa,av as ta,aD as ia,s as ra,an as sa,aE as da,ay as ua,at as ma,L as ca,l as ha,ao as fa,a6 as ga,a2 as pa,b as K,e as g,n as va,F as I,m as N,k as ce,t as E,P as _a,v as ya,c as he,w as Se,o as Ca,a1 as Ve}from"./index-I05jmhuU.js";import{l as ba}from"./lodash-B9bUVSq8.js";import{q as Ma,r as Ta,s as ka,t as La,u as Da,v as Sa,w as Va,x as Ha,y as wa,z as Xa,A as Pa,B as xa,C as Ra,D as Ba,E as Aa,F as Ua,G as Fa,d as Ea,H as ja,I as Ka,J as Ia,K as Na,L as za,M as Oa,N as He}from"./ProductAdminService-BjtVeFMT.js";const qa={__name:"DialogThemLoai",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({tenLoai:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.tenLoai="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm loại này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await Ma({tenLoai:m.tenLoai});R("saved",i),f.value=!1,S(),e.success("Thêm loại thành công!")}catch(i){if(console.error("Lỗi khi lưu loại:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response){const{status:u,data:p}=i.response;if(u===400){let y="Dữ liệu không hợp lệ!";typeof p.message=="string"?y=p.message:typeof p.message=="object"&&(y=Object.values(p.message).join(`
`)),e.error(y)}else u===401?e.error("Không có quyền truy cập. Vui lòng đăng nhập lại!"):u===500?e.error("Lỗi máy chủ. Vui lòng thử lại sau!"):e.error(`Lỗi không xác định: ${p.message||"Có lỗi xảy ra!"}`)}else i.request?e.error("Không thể kết nối đến máy chủ. Vui lòng kiểm tra mạng!"):e.error("Có lỗi xảy ra khi thêm loại!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm loại mới",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[1]||(o[1]=T=>f.value=!1)},{default:l(()=>o[3]||(o[3]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[4]||(o[4]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top"},{default:l(()=>[a(u,{label:"Tên loại",prop:"tenLoai"},{default:l(()=>[a(i,{modelValue:m.tenLoai,"onUpdate:modelValue":o[0]||(o[0]=T=>m.tenLoai=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},Ga={__name:"DialogThemXuatXu",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({maXuatXu:""}),f=k(!1),v=k(null),x={tenLoai:[{required:!0,message:"Vui lòng nhập mã quốc gia",trigger:"blur"}]};function S(){f.value=!0}t({open:S});function w(){var o;(o=v.value)==null||o.resetFields(),m.maXuatXu="",f.value=!1}async function c(){var o;(o=v.value)==null||o.validate(async i=>{if(i)try{await q.confirm("Bạn có chắc chắn muốn thêm mã xuất xứ này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const u=await Ta({maXuatXu:m.maXuatXu});R("saved",u),f.value=!1,w(),e.success("Thêm mã xuất xứ thành công!")}catch(u){if(u&&u==="cancel"){e.info("Đã hủy thao tác");return}if(console.error("Lỗi khi lưu mã xuất xứ:",u),u.response){const{status:p,data:y}=u.response;if(p===400){let b="Dữ liệu không hợp lệ!";typeof y.message=="string"?b=y.message:typeof y.message=="object"&&(b=Object.values(y.message).join(`
`)),e.error(b)}else p===401?e.error("Không có quyền truy cập. Vui lòng đăng nhập lại!"):p===500?e.error("Lỗi máy chủ. Vui lòng thử lại sau!"):e.error(`Lỗi không xác định: ${y.message||"Có lỗi xảy ra!"}`)}else u.request?e.error("Không thể kết nối đến máy chủ. Vui lòng kiểm tra mạng!"):e.error("Có lỗi xảy ra khi thêm mã xuất xứ!")}})}return(o,i)=>{const u=h("el-input"),p=h("el-form-item"),y=h("el-form"),b=h("el-button"),T=h("el-dialog");return L(),P(T,{title:"Thêm mã xuất xứ mới",modelValue:f.value,"onUpdate:modelValue":i[2]||(i[2]=Z=>f.value=Z),width:"600px",onClose:w,"destroy-on-close":""},{footer:l(()=>[a(b,{onClick:i[1]||(i[1]=Z=>f.value=!1)},{default:l(()=>i[3]||(i[3]=[D("Hủy")])),_:1}),a(b,{type:"primary",onClick:c},{default:l(()=>i[4]||(i[4]=[D("Lưu")])),_:1})]),default:l(()=>[a(y,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:x},{default:l(()=>[a(p,{label:"Mã xuất xứ",prop:"maXuatXu"},{default:l(()=>[a(u,{modelValue:m.maXuatXu,"onUpdate:modelValue":i[0]||(i[0]=Z=>m.maXuatXu=Z),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},Wa={__name:"DialogThemRam",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({dungLuong:"",loai:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.dungLuong="",m.loai="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm phiên bản này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await ka({dungLuong:m.dungLuong,loai:m.loai});R("saved",i),f.value=!1,S(),e.success("Thêm dung lượng thành công!")}catch(i){if(console.error("Lỗi khi lưu dung lượng:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response){const{status:u,data:p}=i.response;if(u===400){let y="Dữ liệu không hợp lệ!";typeof p.message=="string"?y=p.message:typeof p.message=="object"&&(y=Object.values(p.message).join(`
`)),e.error(y)}else u===401?e.error("Không có quyền truy cập. Vui lòng đăng nhập lại!"):u===500?e.error("Lỗi máy chủ. Vui lòng thử lại sau!"):e.error(`Lỗi không xác định: ${p.message||"Có lỗi xảy ra!"}`)}else i.request?e.error("Không thể kết nối đến máy chủ. Vui lòng kiểm tra mạng!"):e.error("Có lỗi xảy ra khi thêm dung lượng!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm dung lượng ram mới",modelValue:f.value,"onUpdate:modelValue":o[3]||(o[3]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[2]||(o[2]=T=>f.value=!1)},{default:l(()=>o[4]||(o[4]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[5]||(o[5]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top"},{default:l(()=>[a(u,{label:"Dung lượng",prop:"dungLuong"},{default:l(()=>[a(i,{modelValue:m.dungLuong,"onUpdate:modelValue":o[0]||(o[0]=T=>m.dungLuong=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top"},{default:l(()=>[a(u,{label:"Loại ram",prop:"loai"},{default:l(()=>[a(i,{modelValue:m.loai,"onUpdate:modelValue":o[1]||(o[1]=T=>m.loai=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},Qa={__name:"DiaLogThemCpu",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({chipXuLy:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.chipXuLy="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm chíp xử lý này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await La({chipXuLy:m.chipXuLy});R("saved",i),f.value=!1,S(),te.success("Thêm chíp xử lý thành công!")}catch(i){if(console.error("Lỗi khi lưu chíp xử lý:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response){const{status:u,data:p}=i.response;if(u===400){let y="Dữ liệu không hợp lệ!";typeof p.message=="string"?y=p.message:typeof p.message=="object"&&(y=Object.values(p.message).join(`
`)),e.error(y)}else u===401?e.error("Không có quyền truy cập. Vui lòng đăng nhập lại!"):u===500?e.error("Lỗi máy chủ. Vui lòng thử lại sau!"):e.error(`Lỗi không xác định: ${p.message||"Có lỗi xảy ra!"}`)}else i.request?e.error("Không thể kết nối đến máy chủ. Vui lòng kiểm tra mạng!"):e.error("Có lỗi xảy ra khi thêm chíp xử lý!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm Cpu mới",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[1]||(o[1]=T=>f.value=!1)},{default:l(()=>o[3]||(o[3]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[4]||(o[4]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top"},{default:l(()=>[a(u,{label:"Chíp xử lý",prop:"chipXuLy"},{default:l(()=>[a(i,{modelValue:m.chipXuLy,"onUpdate:modelValue":o[0]||(o[0]=T=>m.chipXuLy=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},Ja={__name:"DialogThemManHinh",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({kichThuoc:"",loaiManHinh:"",tenManHinh:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.kichThuoc="",m.loaiManHinh="",m.tenManHinh="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm Màn hình này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await Da({kichThuoc:m.kichThuoc,loaiManHinh:m.loaiManHinh,tenManHinh:m.tenManHinh});R("saved",i),f.value=!1,S(),e.success("Thêm màn hình thành công!")}catch(i){if(console.error("Lỗi khi lưu màn hình:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response&&i.response.data){const{message:u,error:p,errors:y}=i.response.data;if(y){const b=Object.values(y).flat().join(`
`);e.error(b)}else if(u&&typeof u=="object"){const b=Object.values(u).join(`
`);e.error(b)}else u?e.error(u):p?e.error(typeof p=="string"?p:JSON.stringify(p)):e.error("Dữ liệu không hợp lệ, vui lòng kiểm tra lại!")}else if(i.response){const u=i.response.status;u===401?e.error("Bạn không có quyền thực hiện hành động này!"):u===403?e.error("Bạn không có quyền truy cập tài nguyên này!"):e.error("Đã xảy ra lỗi, vui lòng thử lại!")}else e.error("Không thể kết nối đến server!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-button"),y=h("el-dialog");return L(),P(y,{title:"Thêm kích thước màn hình mới",modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=b=>f.value=b),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(p,{onClick:o[3]||(o[3]=b=>f.value=!1)},{default:l(()=>o[5]||(o[5]=[D("Hủy")])),_:1}),a(p,{type:"primary",onClick:w},{default:l(()=>o[6]||(o[6]=[D("Lưu")])),_:1})]),default:l(()=>[a(u,{label:"Tên màn hình",prop:"tenManHinh"},{default:l(()=>[a(i,{modelValue:m.tenManHinh,"onUpdate:modelValue":o[0]||(o[0]=b=>m.tenManHinh=b),placeholder:"Nhập tên màn hình, ví dụ: Màn hình LCD 15 inch",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(u,{label:"Kích thước màn hình",prop:"kichThuoc"},{default:l(()=>[a(i,{modelValue:m.kichThuoc,"onUpdate:modelValue":o[1]||(o[1]=b=>m.kichThuoc=b),placeholder:"Nhập kích thước màn hình, ví dụ: 15 inch",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(u,{label:"Loại màn hình",prop:"loaiManHinh"},{default:l(()=>[a(i,{modelValue:m.loaiManHinh,"onUpdate:modelValue":o[2]||(o[2]=b=>m.loaiManHinh=b),placeholder:"Nhập loại màn hình, ví dụ: LCD / LED / OLED",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Ya={__name:"DialogThemHDH",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({phienBan:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.phienBan="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm phiên bản này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await Sa({phienBan:m.phienBan});R("saved",i),f.value=!1,S(),e.success("Thêm phiên bản thành công!")}catch(i){if(i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response&&i.response.data){const{message:u,error:p,errors:y}=i.response.data;if(y){const b=Object.values(y).flat().join(`
`);e.error(b)}else if(u&&typeof u=="object"){const b=Object.values(u).join(`
`);e.error(b)}else u?e.error(u):p?e.error(typeof p=="string"?p:JSON.stringify(p)):e.error("Dữ liệu không hợp lệ, vui lòng kiểm tra lại!")}else if(i.response){const u=i.response.status;u===401?e.error("Bạn không có quyền thực hiện hành động này!"):u===403?e.error("Bạn không có quyền truy cập tài nguyên này!"):e.error("Đã xảy ra lỗi, vui lòng thử lại!")}else e.error("Không thể kết nối đến server!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm phiên bản hệ điều hành mới",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[1]||(o[1]=T=>f.value=!1)},{default:l(()=>o[3]||(o[3]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[4]||(o[4]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Tên phiên bản",prop:"phienBan"},{default:l(()=>[a(i,{modelValue:m.phienBan,"onUpdate:modelValue":o[0]||(o[0]=T=>m.phienBan=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}},Za={__name:"DialogThemPin",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({phienBan:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.phienBan="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm phiên bản pin này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await Va({phienBan:m.phienBan});R("saved",i),f.value=!1,S(),e.success("Thêm phiên bản pin thành công!")}catch(i){if(i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response&&i.response.data){const{message:u,error:p,errors:y}=i.response.data;if(y){const b=Object.values(y).flat().join(`
`);e.error(b)}else if(u&&typeof u=="object"){const b=Object.values(u).join(`
`);e.error(b)}else u?e.error(u):p?e.error(typeof p=="string"?p:JSON.stringify(p)):e.error("Dữ liệu không hợp lệ, vui lòng kiểm tra lại!")}else if(i.response){const u=i.response.status;u===401?e.error("Bạn không có quyền thực hiện hành động này!"):u===403?e.error("Bạn không có quyền truy cập tài nguyên này!"):e.error("Đã xảy ra lỗi, vui lòng thử lại!")}else e.error("Không thể kết nối đến server!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm phiên bản pin mới",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[1]||(o[1]=T=>f.value=!1)},{default:l(()=>o[3]||(o[3]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[4]||(o[4]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Tên phiên bản pin",prop:"phienBan"},{default:l(()=>[a(i,{modelValue:m.phienBan,"onUpdate:modelValue":o[0]||(o[0]=T=>m.phienBan=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}},$a={__name:"DialogThemCameraSau",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({loaiCamera:"",doPhanGiai:"",khauDo:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.loaiCamera="",m.doPhanGiai="",m.khauDo="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm camera sau này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await Ha({loaiCamera:m.loaiCamera,doPhanGiai:m.doPhanGiai,khauDo:m.khauDo});R("saved",i),f.value=!1,S(),te.success("Thêm camera sau thành công!")}catch(i){if(console.error("Lỗi khi lưu camera sau:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response&&i.response.data){const{message:u,error:p,errors:y}=i.response.data;if(y){const b=Object.values(y).flat().join(`
`);e.error(b)}else if(u&&typeof u=="object"){const b=Object.values(u).join(`
`);e.error(b)}else u?e.error(u):p?e.error(typeof p=="string"?p:JSON.stringify(p)):e.error("Dữ liệu không hợp lệ, vui lòng kiểm tra lại!")}else if(i.response){const u=i.response.status;u===401?e.error("Bạn không có quyền thực hiện hành động này!"):u===403?e.error("Bạn không có quyền truy cập tài nguyên này!"):e.error("Đã xảy ra lỗi, vui lòng thử lại!")}else e.error("Không thể kết nối đến server!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm Camera sau mới",modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[3]||(o[3]=T=>f.value=!1)},{default:l(()=>o[5]||(o[5]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[6]||(o[6]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Loại camera",prop:"loaiCamera"},{default:l(()=>[a(i,{modelValue:m.loaiCamera,"onUpdate:modelValue":o[0]||(o[0]=T=>m.loaiCamera=T),placeholder:"Nhập loại camera, ví dụ: Wide, Ultra Wide, Telephoto",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Độ phân giải",prop:"doPhanGiai"},{default:l(()=>[a(i,{modelValue:m.doPhanGiai,"onUpdate:modelValue":o[1]||(o[1]=T=>m.doPhanGiai=T),placeholder:"Nhập độ phân giải, ví dụ: 12MP",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Khẩu độ",placeholder:"Nhập khẩu độ, ví dụ: f/1.8",prop:"khauDo"},{default:l(()=>[a(i,{modelValue:m.khauDo,"onUpdate:modelValue":o[2]||(o[2]=T=>m.khauDo=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}},el={__name:"DialogThemCameraTruoc",emits:["saved"],setup(U,{expose:t,emit:F}){const e=Y(),R=F,m=G({loaiCamera:"",doPhanGiai:"",khauDo:""}),f=k(!1),v=k(null);function x(){f.value=!0}t({open:x});function S(){var c;(c=v.value)==null||c.resetFields(),m.loaiCamera="",m.doPhanGiai="",m.khauDo="",f.value=!1}async function w(){var c;(c=v.value)==null||c.validate(async o=>{if(o)try{await q.confirm("Bạn có chắc chắn muốn thêm camera trước này?","Xác nhận",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning"});const i=await wa({loaiCamera:m.loaiCamera,doPhanGiai:m.doPhanGiai,khauDo:m.khauDo});R("saved",i),f.value=!1,S(),e.success("Thêm camera trước thành công!")}catch(i){if(console.error("Lỗi khi lưu camera trước:",i),i&&i==="cancel"){e.info("Đã hủy thao tác");return}if(i.response&&i.response.data){const{message:u,error:p,errors:y}=i.response.data;if(y){const b=Object.values(y).flat().join(`
`);e.error(b)}else if(u&&typeof u=="object"){const b=Object.values(u).join(`
`);e.error(b)}else u?e.error(u):p?e.error(typeof p=="string"?p:JSON.stringify(p)):e.error("Dữ liệu không hợp lệ, vui lòng kiểm tra lại!")}else if(i.response){const u=i.response.status;u===401?e.error("Bạn không có quyền thực hiện hành động này!"):u===403?e.error("Bạn không có quyền truy cập tài nguyên này!"):e.error("Đã xảy ra lỗi, vui lòng thử lại!")}else e.error("Không thể kết nối đến server!")}})}return(c,o)=>{const i=h("el-input"),u=h("el-form-item"),p=h("el-form"),y=h("el-button"),b=h("el-dialog");return L(),P(b,{title:"Thêm Camera trước mới",modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=T=>f.value=T),width:"600px",onClose:S,"destroy-on-close":""},{footer:l(()=>[a(y,{onClick:o[3]||(o[3]=T=>f.value=!1)},{default:l(()=>o[5]||(o[5]=[D("Hủy")])),_:1}),a(y,{type:"primary",onClick:w},{default:l(()=>o[6]||(o[6]=[D("Lưu")])),_:1})]),default:l(()=>[a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Loại camera",prop:"loaiCamera"},{default:l(()=>[a(i,{modelValue:m.loaiCamera,"onUpdate:modelValue":o[0]||(o[0]=T=>m.loaiCamera=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Độ phân giải",prop:"doPhanGiai"},{default:l(()=>[a(i,{modelValue:m.doPhanGiai,"onUpdate:modelValue":o[1]||(o[1]=T=>m.doPhanGiai=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),a(p,{model:m,ref_key:"formRef",ref:v,"label-position":"top",rules:c.rules},{default:l(()=>[a(u,{label:"Khẩu độ",prop:"khauDo"},{default:l(()=>[a(i,{modelValue:m.khauDo,"onUpdate:modelValue":o[2]||(o[2]=T=>m.khauDo=T),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}},al={name:"ModelManagement",components:{Edit:ga,View:fa,Delete:ha,Plus:ca,InfoFilled:ma,Setting:ua,Camera:da,DocumentAdd:sa,Search:ra,RefreshLeft:ia,Check:ta,ArrowLeft:oa,List:na,Close:la,Upload:aa,Download:ea,DialogThemLoai:qa,DialogThemXuatXu:Ga,DialogThemRam:Wa,DiaLogThemCpu:Qa,DialogThemManHinh:Ja,DialogThemHDH:Ya,DialogThemPin:Za,DialogThemCameraSau:$a,DialogThemCameraTruoc:el},setup(){const U=k([]),t=k(!1),F=k(!1),e=k([]),R=k([]),m=k([]),f=k([]),v=k([]),x=k([]),S=k([]),w=k([]),c=k([]),o=G({}),i=k(null),u=k(null),p=k(null),y=k(null),b=k(null),T=k(null),Z=k(null),fe=k(null),ge=k(null),H=Y(),pe=he(()=>S.value.filter(n=>{var X;if((X=M.value.idCameraSau)!=null&&X.includes(n.idCamera))return!0;const d=S.value.filter(A=>{var V;return(V=M.value.idCameraSau)==null?void 0:V.includes(A.idCamera)}),r=d.some(A=>A.loaiCamera==="Wide"),_=d.some(A=>A.loaiCamera==="Ultra Wide"),C=d.some(A=>A.loaiCamera==="Telephoto");switch(n.loaiCamera){case"Wide":return!r;case"Ultra Wide":return!_&&r;case"Telephoto":return!C&&r;default:return r}})),j=n=>{const d=S.value.filter(V=>n.includes(V.idCamera)),r=d.some(V=>V.loaiCamera==="Wide");if(n.length>0&&!r){te.warning("Phải có ít nhất 1 camera Wide");const V=M.value.idCameraSau;setTimeout(()=>{M.value.idCameraSau=V},0);return}const _=d.map(V=>V.loaiCamera),C=_.filter(V=>V==="Wide").length,X=_.filter(V=>V==="Ultra Wide").length,A=_.filter(V=>V==="Telephoto").length;if(C>1){te.warning("Chỉ được chọn 1 camera Wide");const V=M.value.idCameraSau;setTimeout(()=>{M.value.idCameraSau=V},0);return}if(X>1){te.warning("Chỉ được chọn 1 camera Ultra Wide");const V=M.value.idCameraSau;setTimeout(()=>{M.value.idCameraSau=V},0);return}if(A>1){te.warning("Chỉ được chọn 1 camera Telephoto");const V=M.value.idCameraSau;setTimeout(()=>{M.value.idCameraSau=V},0);return}M.value.idCameraSau=n,De("idCameraSau")},ve=n=>{var _;return(_=M.value.idCameraSau)!=null&&_.includes(n.idCamera)?!1:!S.value.filter(C=>{var X;return(X=M.value.idCameraSau)==null?void 0:X.includes(C.idCamera)}).some(C=>C.loaiCamera==="Wide")&&(n.loaiCamera==="Ultra Wide"||n.loaiCamera==="Telephoto")},ie=k([{value:"ACTIVE",label:"Đang hoạt động",type:"success"},{value:"DISCONTINUED",label:"Ngừng sản xuất",type:"warning"},{value:"UPCOMING",label:"Chờ ra mắt",type:"info"}]),$=k(!1),W=k("add"),ee=k(null),Q=k(1),ae=k(0),le=5,ne=k(!1),se=k({}),z=G({searchQuery:"",idLoai:null,idRam:null,idXuatXu:null}),M=k({idModelSanPham:null,tenModel:"",idRam:null,idCpu:null,idManHinh:null,idHeDieuHanh:null,idPin:null,idCameraTruoc:null,idCameraSau:[],idXuatXu:null,idLoai:null,trangThaiSanPhamModel:"ACTIVE",namRaMat:new Date().getFullYear()}),J=k({tenModel:[{required:!0,message:"Vui lòng nhập tên model",trigger:"blur"}],idLoai:[{required:!0,message:"Vui lòng chọn loại",trigger:"change"}],idXuatXu:[{required:!0,message:"Vui lòng chọn xuất xứ",trigger:"change"}],idRam:[{required:!0,message:"Vui lòng chọn RAM",trigger:"change"}],idCpu:[{required:!0,message:"Vui lòng chọn CPU",trigger:"change"}],idManHinh:[{required:!0,message:"Vui lòng chọn màn hình",trigger:"change"}],idHeDieuHanh:[{required:!0,message:"Vui lòng chọn hệ điều hành",trigger:"change"}],idPin:[{required:!0,message:"Vui lòng chọn pin",trigger:"change"}],idCameraTruoc:[{required:!0,message:"Vui lòng chọn camera trước",trigger:"change"}],idCameraSau:[{type:"array",required:!0,message:"Vui lòng chọn ít nhất một camera sau",trigger:"change"}]}),_e=n=>{if(M.value.trangThaiSanPhamModel==="UPCOMING"){const d=new Date;d.setHours(0,0,0,0);const r=new Date(d);return r.setDate(r.getDate()+1),n<r}return!1},me=he(()=>W.value==="add"?"Thêm Model Mới":"Sửa Model"),ye=n=>(Q.value-1)*le+n+1,Ce=n=>{const d=e.value.find(r=>r.idRam===n);return d?`${d.dungLuongRam} - ${d.loaiRam||"Không rõ"}`:"Không rõ"},be=n=>{var d;return((d=R.value.find(r=>r.idCpu===n))==null?void 0:d.chipXuLy)||"Không rõ"},Me=n=>{const d=m.value.find(r=>r.idManHinh===n);return d?`${d.kichThuoc} - ${d.loaiManHinh} - ${d.tenManHinh}`:"Không rõ"},Te=n=>{var d;return((d=f.value.find(r=>r.idHeDieuHanh===n))==null?void 0:d.phienBan)||"Không rõ"},ke=n=>{var d;return((d=v.value.find(r=>r.idPin===n))==null?void 0:d.phienBan)||"Không rõ"},s=n=>{const d=x.value.find(r=>r.idCamera===n);return d?`${d.doPhanGiai} - ${d.khauDo||"Không rõ"}`:"Không rõ"},B=n=>!n||!Array.isArray(n)?"Không rõ":n.map(d=>{const r=S.value.find(_=>_.idCamera===d);return r?`${r.doPhanGiai} - ${r.khauDo||"Không rõ"}`:"Không rõ"}).join(", "),O=n=>{var d;return((d=c.value.find(r=>r.idLoai===n))==null?void 0:d.tenLoai)||"Không rõ"},de=n=>{var d;return((d=w.value.find(r=>r.idXuatXu===n))==null?void 0:d.maXuatXu)||"Không rõ"},we=n=>{const d=ie.value.find(r=>r.value===n);return d?d.type:"info"},Xe=n=>{const d=ie.value.find(r=>r.value===n);return d?d.label:"Không rõ"},Pe=n=>{if(!n||isNaN(Date.parse(n)))return"Không rõ";const d=new Date(n);return`${d.getDate().toString().padStart(2,"0")}/${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getFullYear()}`},xe=async()=>{try{const n=await Ka();if(n.status!==200)throw new Error("Không thể tải template");const d=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=d,r.setAttribute("download","ModelSanPhamTemplate.xlsx"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(d),H.success("Tải template thành công!")}catch(n){console.error("Lỗi khi tải template:",n),H.error("Không thể tải template, vui lòng thử lại!")}},Re=async n=>{var d;try{const r=new FormData;r.append("file",n.raw);const _=await Ia(r);if(!_||!Array.isArray(_)||_.length===0){H.error("Không có dữ liệu hợp lệ được trả về từ file Excel!");return}const C=_[0],X={idModelSanPham:null,tenModel:((d=C.tenModel)==null?void 0:d.trim())||"",idLoai:C.idLoai||null,idXuatXu:C.idXuatXu||null,idRam:C.idRam||null,idCpu:C.idCpu||null,idManHinh:C.idManHinh||null,idHeDieuHanh:C.idHeDieuHanh||null,idPin:C.idPin||null,idCameraTruoc:C.idCameraTruoc||null,idCameraSau:Array.isArray(C.cameraSaus)?C.cameraSaus.map(V=>V.id).filter(V=>V!=null):[],trangThaiSanPhamModel:["ACTIVE","DISCONTINUED","UPCOMING"].includes(C.trangThaiSanPhamModel)?C.trangThaiSanPhamModel:"ACTIVE",namRaMat:C.namRaMat||null},A=Object.entries(J.value).filter(([V,re])=>re.some(ue=>ue.required&&!X[V])).map(([V])=>V);if(A.length>0){H.error(`Thiếu các trường bắt buộc: ${A.join(", ")}`);return}if(X.namRaMat&&isNaN(Date.parse(X.namRaMat))){H.error("Định dạng ngày ra mắt không hợp lệ! Vui lòng sử dụng định dạng YYYY-MM-DD.");return}if(X.idCameraSau.length>0&&!S.value.filter(ue=>X.idCameraSau.includes(ue.idCamera)).some(ue=>ue.loaiCamera.toLowerCase()==="wide")){H.error("Phải có ít nhất một camera Wide trong danh sách camera sau!");return}W.value="add",M.value={...X},H.success("Đã import dữ liệu vào form!"),_.length>1&&q.confirm(`File Excel chứa ${_.length} model. Hiện tại chỉ điền dòng đầu tiên vào form. Bạn có muốn thêm tất cả model vào danh sách không?`,"Xác nhận",{confirmButtonText:"Có",cancelButtonText:"Không"}).then(async()=>{U.value=[..._.map(V=>({...V,idCameraSau:Array.isArray(V.cameraSaus)?V.cameraSaus.map(re=>re.id).filter(re=>re!=null):[],trangThaiSanPhamModel:["ACTIVE","DISCONTINUED","UPCOMING"].includes(V.trangThaiSanPhamModel)?V.trangThaiSanPhamModel:"ACTIVE"})),...U.value],ae.value+=_.length,H.success(`Đã thêm ${_.length} model vào danh sách!`),await oe()})}catch(r){if(console.error("Lỗi khi import file:",r),r.response&&r.response.data){const{status:_,data:C}=r.response;_===400||_===404?H.error(C.message||"Dữ liệu không hợp lệ, vui lòng kiểm tra file Excel!"):_===500?H.error(C.message||"Lỗi máy chủ, vui lòng thử lại sau!"):H.error(C.message||"Lỗi không xác định, vui lòng thử lại!")}else H.error("Lỗi kết nối hoặc file không hợp lệ, vui lòng kiểm tra!")}};Se(()=>M.value.idLoai,(n,d)=>{if(n){const r=c.value.find(_=>_.idLoai===n);if(r){const _=r.tenLoai||"";let C=M.value.tenModel||"";if(d){const X=c.value.find(A=>A.idLoai===d);X&&C.endsWith(" "+X.tenLoai)&&(C=C.slice(0,-(X.tenLoai.length+1)))}C.endsWith(" "+_)||(C?M.value.tenModel=`${C.trim()} ${_}`:M.value.tenModel=_,$.value=!0,setTimeout(()=>{$.value=!1},2e3))}}});const Be=n=>{c.value.push({idLoai:n.id,tenLoai:n.tenLoai}),M.value.idLoai=n.id},Ae=n=>{w.value.push({idXuatXu:n.id,maXuatXu:n.maXuatXu}),M.value.idXuatXu=n.id},Ue=n=>{e.value.push({idRam:n.id,dungLuongRam:n.dungLuong,loaiRam:n.loai}),M.value.idRam=n.id},Fe=n=>{R.value.push({idCpu:n.id,chipXuLy:n.chipXuLy}),M.value.idCpu=n.id},Ee=n=>{m.value.push({idManHinh:n.id,kichThuoc:n.kichThuoc,tenManHinh:n.tenManHinh,loaiManHinh:n.loaiManHinh}),M.value.idManHinh=n.id},je=n=>{f.value.push({idHeDieuHanh:n.id,phienBan:n.phienBan}),M.value.idHeDieuHanh=n.id},Ke=n=>{v.value.push({idPin:n.id,phienBan:n.phienBan}),M.value.idPin=n.id},Ie=n=>{S.value.push({idCamera:n.id,loaiCamera:n.loaiCamera,khauDo:n.khauDo,doPhanGiai:n.doPhanGiai}),M.value.idCameraSau=[...M.value.idCameraSau||[],n.id]},Ne=n=>{x.value.push({idCamera:n.id,loaiCamera:n.loaiCamera,khauDo:n.khauDo,doPhanGiai:n.doPhanGiai}),M.value.idCameraTruoc=n.id},oe=async()=>{t.value=!0;try{const n=await Promise.allSettled([Xa(),Pa(),xa(),Ra(),Ba(),Aa(),Ua(),Fa(),Ea(),ja(Q.value-1,le,z.searchQuery,z.idLoai,z.idRam,z.idXuatXu)]),d=n.filter(r=>r.status==="rejected");d.length>0&&(H.warning("Một số dữ liệu không tải được, vui lòng thử lại!"),console.error("API thất bại:",d)),e.value=n[0].status==="fulfilled"&&Array.isArray(n[0].value)?n[0].value.map(r=>({idRam:r.id,dungLuongRam:r.dungLuong||"",loaiRam:r.loai||""})):[],R.value=n[1].status==="fulfilled"&&Array.isArray(n[1].value)?n[1].value.map(r=>({idCpu:r.id,chipXuLy:r.chipXuLy||""})):[],m.value=n[2].status==="fulfilled"&&Array.isArray(n[2].value)?n[2].value.map(r=>({idManHinh:r.id,kichThuoc:r.kichThuoc||"",loaiManHinh:r.loaiManHinh||"",tenManHinh:r.tenManHinh||""})):[],f.value=n[3].status==="fulfilled"&&Array.isArray(n[3].value)?n[3].value.map(r=>({idHeDieuHanh:r.id,phienBan:r.phienBan||""})):[],v.value=n[4].status==="fulfilled"&&Array.isArray(n[4].value)?n[4].value.map(r=>({idPin:r.id,phienBan:r.phienBan||""})):[],x.value=n[5].status==="fulfilled"&&Array.isArray(n[5].value)?n[5].value.map(r=>({idCamera:r.id,doPhanGiai:r.doPhanGiai||"",khauDo:r.khauDo||""})):[],S.value=n[6].status==="fulfilled"&&Array.isArray(n[6].value)?n[6].value.map(r=>({idCamera:r.id,doPhanGiai:r.doPhanGiai||"",khauDo:r.khauDo||"",loaiCamera:r.loaiCamera||""})):[],w.value=n[7].status==="fulfilled"&&Array.isArray(n[7].value)?n[7].value.map(r=>({idXuatXu:r.id,maXuatXu:r.maXuatXu||""})):[],c.value=n[8].status==="fulfilled"&&Array.isArray(n[8].value)?n[8].value.map(r=>({idLoai:r.id,tenLoai:r.tenLoai||""})):[],U.value=n[9].status==="fulfilled"&&Array.isArray(n[9].value.content)?n[9].value.content.map(r=>{const C=["ACTIVE","DISCONTINUED","UPCOMING"].includes(r.trangThaiSanPhamModel)?r.trangThaiSanPhamModel:"ACTIVE";return{...r,tenModel:r.tenModel||"",maModelSanPham:r.maModelSanPham||"Không rõ",trangThaiSanPhamModel:C,idCameraSau:Array.isArray(r.cameraSaus)?r.cameraSaus.map(X=>X==null?void 0:X.id).filter(X=>X!=null):[]}}):[],ae.value=n[9].status==="fulfilled"&&n[9].value.totalElements||0,U.value.length||te.info("Không tìm thấy model.")}finally{t.value=!1}},ze=()=>{Object.assign(z,{searchQuery:"",idLoai:null,idRam:null,idXuatXu:null}),Q.value=1,oe()},Le=()=>{var d;Object.values(M.value).some(r=>r!==null&&r!==""&&!(Array.isArray(r)&&r.length===0))?q.confirm("Bạn có chắc muốn đặt lại form?","Xác nhận",{confirmButtonText:"Có",cancelButtonText:"Không"}).then(()=>{var r;W.value="add",(r=ee.value)==null||r.resetFields(),M.value={idModelSanPham:null,tenModel:"",idRam:null,idCpu:null,idManHinh:null,idHeDieuHanh:null,idPin:null,idCameraTruoc:null,idCameraSau:[],idXuatXu:null,idLoai:null,trangThaiSanPhamModel:"ACTIVE",namRaMat:null},$.value=!1,H.success("Form đã được đặt lại.")}):(W.value="add",(d=ee.value)==null||d.resetFields(),M.value={idModelSanPham:null,tenModel:"",idRam:null,idCpu:null,idManHinh:null,idHeDieuHanh:null,idPin:null,idCameraTruoc:null,idCameraSau:[],idXuatXu:null,idLoai:null,trangThaiSanPhamModel:"ACTIVE",namRaMat:null},$.value=!1)},Oe=async n=>{var d,r;try{const _=await He(n.idModelSanPham);if(!_){H.error("Không tìm thấy dữ liệu model!");return}const X=["ACTIVE","DISCONTINUED","UPCOMING"].includes(_.trangThaiSanPhamModel)?_.trangThaiSanPhamModel:"ACTIVE";se.value={..._,tenModel:_.tenModel||"",maModelSanPham:_.maModelSanPham||"Không rõ",trangThaiSanPhamModel:X,idCameraSau:Array.isArray(_.cameraSaus)?_.cameraSaus.map(A=>A==null?void 0:A.id).filter(A=>A!=null):[]},ne.value=!0}catch(_){console.error("Lỗi khi lấy chi tiết model:",_),((d=_.response)==null?void 0:d.status)===404?H.error("Model không tồn tại!"):((r=_.response)==null?void 0:r.status)===500?H.error("Lỗi máy chủ, vui lòng thử lại sau!"):H.error("Không thể lấy chi tiết model, vui lòng thử lại!")}},qe=async n=>{try{const d=await He(n.idModelSanPham);if(!d){H.error("Không tìm thấy dữ liệu model!");return}const _=["ACTIVE","DISCONTINUED","UPCOMING"].includes(d.trangThaiSanPhamModel)?d.trangThaiSanPhamModel:"ACTIVE";W.value="edit",M.value={...d,idModelSanPham:d.idModelSanPham,tenModel:d.tenModel||"",idRam:d.idRam,idCpu:d.idCpu,idManHinh:d.idManHinh,idHeDieuHanh:d.idHeDieuHanh,idPin:d.idPin,idCameraTruoc:d.idCameraTruoc,idCameraSau:Array.isArray(d.cameraSaus)?d.cameraSaus.map(C=>C==null?void 0:C.id).filter(C=>C!=null):[],idXuatXu:d.idXuatXu,idLoai:d.idLoai,trangThaiSanPhamModel:_,namRaMat:d.namRaMat},document.getElementById("form").scrollIntoView()}catch(d){console.error("Lỗi khi lấy chi tiết model để chỉnh sửa:",d),H.error("Không thể lấy dữ liệu model để chỉnh sửa!")}},Ge=()=>{W.value="edit",document.getElementById("form").scrollIntoView(),M.value={...se.value},ne.value=!1},De=n=>{o[n]&&delete o[n]},We=async()=>{ee.value&&await ee.value.validate(async n=>{if(!n){H.error("Vui lòng kiểm tra lại các trường thông tin!");return}F.value=!0;try{const d=M.value.idCameraSau.map((_,C)=>({id:_,isChinh:C===0})),r={tenModel:M.value.tenModel?M.value.tenModel.trim():"",idRam:M.value.idRam,idCpu:M.value.idCpu,idManHinh:M.value.idManHinh,idHeDieuHanh:M.value.idHeDieuHanh,idPin:M.value.idPin,idCameraTruoc:M.value.idCameraTruoc,cameraSaus:d,idXuatXu:M.value.idXuatXu,idLoai:M.value.idLoai,trangThaiSanPhamModel:M.value.trangThaiSanPhamModel,namRaMat:M.value.namRaMat};if(W.value==="edit"){await za(M.value.idModelSanPham,r);const _=U.value.findIndex(C=>C.idModelSanPham===M.value.idModelSanPham);_!==-1&&(U.value[_]={...U.value[_],...r,idCameraSau:r.cameraSaus.map(C=>C.id)}),H.success("Cập nhật model thành công!")}else{const _=await Oa(r);_&&typeof _=="object"?(U.value.unshift({..._,tenModel:_.tenModel||"",maModelSanPham:_.maModelSanPham||"Không rõ",trangThaiSanPhamModel:_.trangThaiSanPhamModel||"ACTIVE",idCameraSau:_.cameraSaus?_.cameraSaus.map(C=>C.id):[]}),ae.value+=1,H.success("Thêm model thành công!")):H.error("Dữ liệu trả về từ API không hợp lệ!")}Le()}catch(d){if(console.error("Lỗi khi gửi form:",d),Object.keys(o).forEach(r=>delete o[r]),d.response){const{status:r,data:_}=d.response;if(r===400&&_){const C=_.error,X=_.message,A={"model.duplicate.config":"Cấu hình model đã tồn tại, vui lòng kiểm tra lại!","camera_sau.not_found":"Camera sau không tồn tại!","model.ten_model.required":"Tên model là bắt buộc!","model.required_fields_missing":"Vui lòng điền đầy đủ các trường bắt buộc!"};C&&A[C]?H.error(A[C]):typeof X=="object"&&X!==null?Object.assign(o,X):typeof X=="string"?H.error(X):H.error("Lỗi không xác định từ server!")}else r===500?H.error("Lỗi máy chủ, vui lòng thử lại sau!"):H.error(`Lỗi HTTP ${r}: ${(_==null?void 0:_.message)||"Có lỗi xảy ra"}`)}else d.request?H.error("Không thể kết nối đến máy chủ! Vui lòng kiểm tra kết nối mạng."):H.error(d.message)}finally{F.value=!1}})},Qe=(n,d)=>{q.confirm("Bạn có chắc chắn muốn xóa model này?","Xác nhận",{confirmButtonText:"Có",cancelButtonText:"Không"}).then(async()=>{await Na(n),U.value=U.value.filter(r=>r.idModelSanPham!==n),ae.value-=1,H.success("Xóa model thành công!"),!U.value.length&&Q.value>1&&(Q.value-=1,await oe())})},Je=n=>{Q.value=n,oe()};Se(()=>[z.searchQuery,z.idLoai,z.idRam,z.idXuatXu],ba.debounce(()=>{Q.value=1,oe()},500)),Ca(()=>oe());const Ye=he(()=>{const n=Ve.state.roles;return Array.isArray(n)&&n.map(d=>typeof d=="string"?d:d.authority).includes("ROLE_ADMIN")}),Ze=he(()=>{const n=Ve.state.roles;return Array.isArray(n)&&n.map(d=>typeof d=="string"?d:d.authority).includes("ROLE_STAFF")});return{isAdmin:Ye,isStaff:Ze,modelSanPhams:U,loading:t,submitting:F,rams:e,cpus:R,manHinhs:m,heDieuHanhs:f,pins:v,cameraTruocs:x,cameraSaus:S,xuatXus:w,loais:c,statuses:ie,formMode:W,formTitle:me,modelForm:M,modelFormRef:ee,formRules:J,currentPage:Q,totalItems:ae,pageSize:le,filters:z,dialogVisible:ne,viewModelData:se,tenModelUpdated:$,errors:o,addLoaiDialogRef:i,addXuatXuDialogRef:u,addDungLuongDialogRef:p,addCpuDialogRef:y,addManHinhDialogRef:b,addHDHDialogRef:T,addPinDialogRef:Z,addCameraTruocDialogRef:ge,addCameraSauDialogRef:fe,toast:H,availableCameraSaus:pe,handleCameraSauChange:j,isCameraSauDisabled:ve,disabledDate:_e,handlePinSaved:Ke,handleCameraTruocSaved:Ne,handleCameraSauSaved:Ie,handleHDHSaved:je,handleManHinhSaved:Ee,handleCpuSaved:Fe,handleDungLuongSaved:Ue,handleLoaiSaved:Be,handleXuatXuSaved:Ae,clearFieldError:De,indexMethod:ye,ramLabel:Ce,cpuLabel:be,manHinhLabel:Me,heDieuHanhLabel:Te,pinLabel:ke,cameraTruocLabel:s,cameraSauLabel:B,loaiLabel:O,xuatXuLabel:de,statusLabel:Xe,statusTagType:we,formatNamRaMat:Pe,fetchDanhMuc:oe,resetFilters:ze,resetForm:Le,viewModel:Oe,editModel:qe,switchToEditMode:Ge,submitModelForm:We,deleteModel:Qe,handlePageChange:Je,handleFileUpload:Re,downloadTemplate:xe}}},ll={class:"model-management"},nl={class:"card-header"},ol={class:"header-title"},tl={class:"form-section"},il={class:"section-header"},rl={class:"form-grid"},sl={style:{display:"flex",gap:"8px",width:"100%"}},dl={style:{display:"flex",gap:"8px",width:"100%"}},ul={class:"form-section"},ml={class:"section-header"},cl={class:"form-grid"},hl={style:{display:"flex",gap:"8px",width:"100%"}},fl={style:{display:"flex",gap:"8px",width:"100%"}},gl={style:{display:"flex",gap:"8px",width:"100%"}},pl={style:{display:"flex",gap:"8px",width:"100%"}},vl={style:{display:"flex",gap:"8px",width:"100%"}},_l={class:"form-section"},yl={class:"section-header"},Cl={class:"form-grid"},bl={style:{display:"flex",gap:"8px",width:"100%"}},Ml={style:{display:"flex",gap:"8px",width:"100%"}},Tl={style:{float:"left"}},kl={key:0,style:{"margin-top":"8px","font-size":"12px",color:"#909399"}},Ll={class:"form-actions"},Dl={class:"card-header"},Sl={class:"filter-content"},Vl={class:"filter-row"},Hl={class:"form-actions"},wl={class:"table-header"},Xl={class:"table-title"},Pl={class:"table-info"},xl={class:"action-buttons"},Rl={class:"pagination-fixed"},Bl={class:"d-flex justify-content-center align-items-center gap-3"},Al={class:"dialog-content"},Ul={class:"detail-grid"},Fl={class:"detail-item"},El={class:"detail-value"},jl={class:"detail-item"},Kl={class:"detail-value"},Il={class:"detail-item"},Nl={class:"detail-value"},zl={class:"detail-item"},Ol={class:"detail-value"},ql={class:"detail-item"},Gl={class:"detail-value"},Wl={class:"detail-item"},Ql={class:"detail-value"},Jl={class:"detail-item"},Yl={class:"detail-value"},Zl={class:"detail-item"},$l={class:"detail-value"},en={class:"detail-item"},an={class:"detail-value"},ln={class:"detail-item"},nn={class:"detail-value"},on={class:"detail-item"},tn={class:"detail-value"},rn={class:"dialog-footer"};function sn(U,t,F,e,R,m){const f=h("Plus"),v=h("el-icon"),x=h("InfoFilled"),S=h("el-input"),w=h("el-form-item"),c=h("el-option"),o=h("el-select"),i=h("el-button"),u=h("DialogThemLoai"),p=h("DialogThemXuatXu"),y=h("Setting"),b=h("DialogThemRam"),T=h("DiaLogThemCpu"),Z=h("DialogThemManHinh"),fe=h("DialogThemHDH"),ge=h("DialogThemPin"),H=h("Camera"),pe=h("DialogThemCameraTruoc"),j=h("el-tag"),ve=h("DialogThemCameraSau"),ie=h("RefreshLeft"),$=h("Check"),W=h("Upload"),ee=h("el-upload"),Q=h("Download"),ae=h("el-form"),le=h("el-card"),ne=h("Search"),se=h("ArrowLeft"),z=h("router-link"),M=h("List"),J=h("el-table-column"),_e=h("View"),me=h("Edit"),ye=h("Delete"),Ce=h("el-table"),be=h("el-pagination"),Me=h("Close"),Te=h("el-dialog"),ke=pa("loading");return L(),K("div",ll,[t[58]||(t[58]=g("div",{class:"page-header"},[g("div",{class:"page-title"},[g("h1",null,"Quản lý Model Sản Phẩm"),g("p",{class:"page-subtitle"}," Quản lý thông tin chi tiết các model sản phẩm ")])],-1)),a(le,{class:"form-card",shadow:"hover"},{header:l(()=>[g("div",nl,[a(v,{class:"header-icon"},{default:l(()=>[a(f)]),_:1}),g("span",ol,E(e.formTitle),1)])]),default:l(()=>[a(ae,{model:e.modelForm,ref:"modelFormRef",rules:e.formRules,"label-position":"top",class:"model-form",id:"form"},{default:l(()=>[g("div",tl,[g("div",il,[a(v,{class:"section-icon"},{default:l(()=>[a(x)]),_:1}),t[34]||(t[34]=g("h3",{class:"section-title"},"Thông tin cơ bản",-1))]),g("div",rl,[a(w,{label:"Tên model",prop:"tenModel",error:e.errors.tenModel},{default:l(()=>[a(S,{modelValue:e.modelForm.tenModel,"onUpdate:modelValue":t[0]||(t[0]=s=>e.modelForm.tenModel=s),placeholder:"Nhập tên model (bắt buộc bắt đầu bằng 'iPhone')",onInput:t[1]||(t[1]=s=>e.clearFieldError("tenModel")),clearable:"",size:"large",class:va({"updated-input":e.tenModelUpdated})},null,8,["modelValue","class"])]),_:1},8,["error"]),a(w,{label:"Loại",prop:"idLoai",error:e.errors.idLoai},{default:l(()=>[g("div",sl,[a(o,{modelValue:e.modelForm.idLoai,"onUpdate:modelValue":t[2]||(t[2]=s=>e.modelForm.idLoai=s),placeholder:"Chọn loại",onChange:t[3]||(t[3]=s=>e.clearFieldError("idLoai")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.loais,s=>(L(),P(c,{key:s.idLoai,label:s.tenLoai,value:s.idLoai},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[4]||(t[4]=s=>e.addLoaiDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(u,{ref:"addLoaiDialogRef",onSaved:e.handleLoaiSaved},null,8,["onSaved"]),a(w,{label:"Xuất xứ",prop:"idXuatXu",error:e.errors.idXuatXu},{default:l(()=>[g("div",dl,[a(o,{modelValue:e.modelForm.idXuatXu,"onUpdate:modelValue":t[5]||(t[5]=s=>e.modelForm.idXuatXu=s),placeholder:"Chọn xuất xứ",onChange:t[6]||(t[6]=s=>e.clearFieldError("idXuatXu")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.xuatXus,s=>(L(),P(c,{key:s.idXuatXu,label:s.maXuatXu,value:s.idXuatXu},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[7]||(t[7]=s=>e.addXuatXuDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(p,{ref:"addXuatXuDialogRef",onSaved:e.handleXuatXuSaved},null,8,["onSaved"])])]),g("div",ul,[g("div",ml,[a(v,{class:"section-icon"},{default:l(()=>[a(y)]),_:1}),t[35]||(t[35]=g("h3",{class:"section-title"},"Cấu hình phần cứng",-1))]),g("div",cl,[a(w,{label:"RAM",prop:"idRam",error:e.errors.idRam},{default:l(()=>[g("div",hl,[a(o,{modelValue:e.modelForm.idRam,"onUpdate:modelValue":t[8]||(t[8]=s=>e.modelForm.idRam=s),placeholder:"Chọn RAM",onChange:t[9]||(t[9]=s=>e.clearFieldError("idRam")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.rams,s=>(L(),P(c,{key:s.idRam,label:`${s.dungLuongRam} - ${s.loaiRam}`,value:s.idRam},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[10]||(t[10]=s=>e.addDungLuongDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(b,{ref:"addDungLuongDialogRef",onSaved:e.handleDungLuongSaved},null,8,["onSaved"]),a(w,{label:"CPU",prop:"idCpu",error:e.errors.idCpu},{default:l(()=>[g("div",fl,[a(o,{modelValue:e.modelForm.idCpu,"onUpdate:modelValue":t[11]||(t[11]=s=>e.modelForm.idCpu=s),placeholder:"Chọn CPU",onChange:t[12]||(t[12]=s=>e.clearFieldError("idCpu")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.cpus,s=>(L(),P(c,{key:s.idCpu,label:s.chipXuLy,value:s.idCpu},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[13]||(t[13]=s=>e.addCpuDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(T,{ref:"addCpuDialogRef",onSaved:e.handleCpuSaved},null,8,["onSaved"]),a(w,{label:"Màn hình",prop:"idManHinh",error:e.errors.idManHinh},{default:l(()=>[g("div",gl,[a(o,{modelValue:e.modelForm.idManHinh,"onUpdate:modelValue":t[14]||(t[14]=s=>e.modelForm.idManHinh=s),placeholder:"Chọn màn hình",onChange:t[15]||(t[15]=s=>e.clearFieldError("idManHinh")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.manHinhs,s=>(L(),P(c,{key:s.idManHinh,label:`${s.tenManHinh} - ${s.kichThuoc} - ${s.loaiManHinh}`,value:s.idManHinh},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[16]||(t[16]=s=>e.addManHinhDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(Z,{ref:"addManHinhDialogRef",onSaved:e.handleManHinhSaved},null,8,["onSaved"]),a(w,{label:"Hệ điều hành",prop:"idHeDieuHanh",error:e.errors.idHeDieuHanh},{default:l(()=>[g("div",pl,[a(o,{modelValue:e.modelForm.idHeDieuHanh,"onUpdate:modelValue":t[17]||(t[17]=s=>e.modelForm.idHeDieuHanh=s),placeholder:"Chọn hệ điều hành",onChange:t[18]||(t[18]=s=>e.clearFieldError("idHeDieuHanh")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.heDieuHanhs,s=>(L(),P(c,{key:s.idHeDieuHanh,label:s.phienBan,value:s.idHeDieuHanh},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[19]||(t[19]=s=>e.addHDHDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(fe,{ref:"addHDHDialogRef",onSaved:e.handleHDHSaved},null,8,["onSaved"]),a(w,{label:"Pin",prop:"idPin",error:e.errors.idPin},{default:l(()=>[g("div",vl,[a(o,{modelValue:e.modelForm.idPin,"onUpdate:modelValue":t[20]||(t[20]=s=>e.modelForm.idPin=s),placeholder:"Chọn pin",onChange:t[21]||(t[21]=s=>e.clearFieldError("idPin")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.pins,s=>(L(),P(c,{key:s.idPin,label:s.phienBan,value:s.idPin},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[22]||(t[22]=s=>e.addPinDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(ge,{ref:"addPinDialogRef",onSaved:e.handlePinSaved},null,8,["onSaved"])])]),g("div",_l,[g("div",yl,[a(v,{class:"section-icon"},{default:l(()=>[a(H)]),_:1}),t[36]||(t[36]=g("h3",{class:"section-title"},"Camera",-1))]),g("div",Cl,[a(w,{label:"Camera trước",prop:"idCameraTruoc",error:e.errors.idCameraTruoc},{default:l(()=>[g("div",bl,[a(o,{modelValue:e.modelForm.idCameraTruoc,"onUpdate:modelValue":t[23]||(t[23]=s=>e.modelForm.idCameraTruoc=s),placeholder:"Chọn camera trước",onChange:t[24]||(t[24]=s=>e.clearFieldError("idCameraTruoc")),clearable:"",loading:e.loading,size:"large",style:{width:"100%"}},{default:l(()=>[(L(!0),K(I,null,N(e.cameraTruocs,s=>(L(),P(c,{key:s.idCamera,label:`${s.doPhanGiai} - ${s.khauDo}`,value:s.idCamera},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[25]||(t[25]=s=>e.addCameraTruocDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})])]),_:1},8,["error"]),a(pe,{ref:"addCameraTruocDialogRef",onSaved:e.handleCameraTruocSaved},null,8,["onSaved"]),a(w,{label:"Camera sau",prop:"idCameraSau",error:e.errors.idCameraSau},{default:l(()=>{var s;return[g("div",Ml,[a(o,{modelValue:e.modelForm.idCameraSau,"onUpdate:modelValue":t[26]||(t[26]=B=>e.modelForm.idCameraSau=B),placeholder:"Chọn camera sau (Wide bắt buộc)",onChange:e.handleCameraSauChange,loading:e.loading,size:"large",style:{width:"100%"},multiple:""},{default:l(()=>[(L(!0),K(I,null,N(e.availableCameraSaus,B=>(L(),P(c,{key:B.idCamera,label:`${B.doPhanGiai} - ${B.khauDo} - ${B.loaiCamera}`,value:B.idCamera,disabled:e.isCameraSauDisabled(B)},{default:l(()=>[g("span",Tl,E(B.doPhanGiai)+" - "+E(B.khauDo),1),g("span",{style:_a([{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"},{color:B.loaiCamera==="Wide"?"#67c23a":B.loaiCamera==="Ultra Wide"?"#409eff":"#f56c6c"}])},E(B.loaiCamera),5)]),_:2},1032,["label","value","disabled"]))),128))]),_:1},8,["modelValue","onChange","loading"]),a(i,{type:"success",size:"large",circle:"",onClick:t[27]||(t[27]=B=>e.addCameraSauDialogRef.open())},{default:l(()=>[a(v,null,{default:l(()=>[a(f)]),_:1})]),_:1})]),(s=e.modelForm.idCameraSau)!=null&&s.length?(L(),K("div",kl,[(L(!0),K(I,null,N(e.modelForm.idCameraSau,B=>(L(),K("div",{key:B,style:{display:"inline-block","margin-right":"12px"}},[a(j,{type:(()=>{const O=e.cameraSaus.find(de=>de.idCamera===B);return(O==null?void 0:O.loaiCamera)==="Wide"?"success":(O==null?void 0:O.loaiCamera)==="Ultra Wide"?"primary":"danger"})(),size:"small"},{default:l(()=>[D(E((()=>{const O=e.cameraSaus.find(de=>de.idCamera===B);return O?`${O.loaiCamera}: ${O.doPhanGiai}`:"Unknown"})()),1)]),_:2},1032,["type"])]))),128))])):ce("",!0)]}),_:1},8,["error"]),a(ve,{ref:"addCameraSauDialogRef",onSaved:e.handleCameraSauSaved},null,8,["onSaved"])])]),g("div",Ll,[a(i,{size:"large",onClick:e.resetForm},{default:l(()=>[a(v,null,{default:l(()=>[a(ie)]),_:1}),t[37]||(t[37]=D(" Đặt lại "))]),_:1},8,["onClick"]),e.isAdmin?(L(),P(i,{key:0,type:"primary",size:"large",onClick:e.submitModelForm,loading:e.submitting},{default:l(()=>[a(v,null,{default:l(()=>[a($)]),_:1}),D(" "+E(e.formMode==="add"?"Thêm mới":"Cập nhật"),1)]),_:1},8,["onClick","loading"])):ce("",!0),a(ee,{class:"upload-demo",accept:".xlsx, .xls, .csv","auto-upload":!1,"on-change":e.handleFileUpload},{default:l(()=>[a(i,{size:"large",type:"warning"},{default:l(()=>[a(v,null,{default:l(()=>[a(W)]),_:1}),t[38]||(t[38]=D(" Import File "))]),_:1})]),_:1},8,["on-change"]),a(i,{size:"large",type:"info",onClick:e.downloadTemplate},{default:l(()=>[a(v,null,{default:l(()=>[a(Q)]),_:1}),t[39]||(t[39]=D(" Tải Template "))]),_:1},8,["onClick"])])]),_:1},8,["model","rules"])]),_:1}),a(le,{class:"filter-card",shadow:"hover"},{header:l(()=>[g("div",Dl,[a(v,{class:"header-icon"},{default:l(()=>[a(ne)]),_:1}),t[40]||(t[40]=g("span",{class:"header-title"},"Bộ lọc tìm kiếm",-1))])]),default:l(()=>[g("div",Sl,[g("div",Vl,[a(S,{modelValue:e.filters.searchQuery,"onUpdate:modelValue":t[28]||(t[28]=s=>e.filters.searchQuery=s),placeholder:"Tìm kiếm model...",clearable:"",size:"large",class:"search-input"},{prefix:l(()=>[a(v,null,{default:l(()=>[a(ne)]),_:1})]),_:1},8,["modelValue"]),a(o,{modelValue:e.filters.idLoai,"onUpdate:modelValue":t[29]||(t[29]=s=>e.filters.idLoai=s),placeholder:"Lọc theo loại",clearable:"",size:"large",class:"filter-select"},{default:l(()=>[(L(!0),K(I,null,N(e.loais,s=>(L(),P(c,{key:s.idLoai,label:s.tenLoai,value:s.idLoai},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a(o,{modelValue:e.filters.idRam,"onUpdate:modelValue":t[30]||(t[30]=s=>e.filters.idRam=s),placeholder:"Lọc theo RAM",clearable:"",size:"large",class:"filter-select"},{default:l(()=>[(L(!0),K(I,null,N(e.rams,s=>(L(),P(c,{key:s.idRam,label:`${s.dungLuongRam} - ${s.loaiRam}`,value:s.idRam},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a(o,{modelValue:e.filters.idXuatXu,"onUpdate:modelValue":t[31]||(t[31]=s=>e.filters.idXuatXu=s),placeholder:"Lọc theo xuất xứ",clearable:"",size:"large",class:"filter-select"},{default:l(()=>[(L(!0),K(I,null,N(e.xuatXus,s=>(L(),P(c,{key:s.idXuatXu,label:s.maXuatXu,value:s.idXuatXu},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g("div",Hl,[a(i,{type:"primary",size:"large",onClick:e.fetchDanhMuc},{default:l(()=>[a(v,null,{default:l(()=>[a(ne)]),_:1}),t[41]||(t[41]=D(" Tìm kiếm "))]),_:1},8,["onClick"]),a(i,{size:"large",onClick:e.resetFilters},{default:l(()=>[a(v,null,{default:l(()=>[a(ie)]),_:1}),t[42]||(t[42]=D(" Xóa bộ lọc "))]),_:1},8,["onClick"]),a(z,{to:"/admin/products"},{default:l(()=>[a(i,{type:"success",size:"large"},{default:l(()=>[a(v,null,{default:l(()=>[a(se)]),_:1}),t[43]||(t[43]=D(" Quay lại "))]),_:1})]),_:1})])])]),_:1}),a(le,{class:"table-card",shadow:"hover"},{header:l(()=>[g("div",wl,[g("div",Xl,[a(v,{class:"header-icon"},{default:l(()=>[a(M)]),_:1}),t[44]||(t[44]=g("span",null,"Danh sách Model",-1))]),g("div",Pl,[a(j,{type:"info",size:"large"},{default:l(()=>[D(" Tổng: "+E(e.totalItems)+" model ",1)]),_:1})])])]),default:l(()=>[ya((L(),P(Ce,{data:e.modelSanPhams,stripe:"",class:"data-table","header-cell-style":{backgroundColor:"#f8fafc",color:"#374151",fontWeight:"600",fontSize:"14px"}},{default:l(()=>[a(J,{label:"STT",type:"index",index:e.indexMethod,width:"80",align:"center"},null,8,["index"]),a(J,{prop:"maModelSanPham",label:"Mã model",width:"150","show-overflow-tooltip":""}),a(J,{prop:"tenModel",label:"Tên model",width:"200","show-overflow-tooltip":""}),a(J,{label:"Loại",width:"150"},{default:l(({row:s})=>[a(j,{type:"primary",effect:"light"},{default:l(()=>[D(E(e.loaiLabel(s.idLoai)),1)]),_:2},1024)]),_:1}),a(J,{label:"RAM",width:"140"},{default:l(({row:s})=>[a(j,{type:"warning",effect:"light"},{default:l(()=>[D(E(e.ramLabel(s.idRam)),1)]),_:2},1024)]),_:1}),a(J,{label:"Xuất xứ",width:"120"},{default:l(({row:s})=>[a(j,{type:"info",effect:"light"},{default:l(()=>[D(E(e.xuatXuLabel(s.idXuatXu)),1)]),_:2},1024)]),_:1}),a(J,{label:"Hành động",width:"350",align:"center",fixed:"right"},{default:l(({row:s})=>[g("div",xl,[a(i,{size:"small",type:"info",onClick:B=>e.viewModel(s),circle:"",class:"action-btn"},{default:l(()=>[a(v,null,{default:l(()=>[a(_e)]),_:1})]),_:2},1032,["onClick"]),e.isAdmin?(L(),P(i,{key:0,size:"small",type:"primary",onClick:B=>e.editModel(s),circle:"",class:"action-btn"},{default:l(()=>[a(v,null,{default:l(()=>[a(me)]),_:1})]),_:2},1032,["onClick"])):ce("",!0),e.isAdmin?(L(),P(i,{key:1,size:"small",type:"danger",onClick:B=>e.deleteModel(s.idModelSanPham,s),circle:"",class:"action-btn"},{default:l(()=>[a(v,null,{default:l(()=>[a(ye)]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])]),_:1})]),_:1},8,["data"])),[[ke,e.loading]]),g("div",Rl,[g("div",Bl,[a(be,{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage,total:e.totalItems,"pager-count":7,"prev-text":"< Trước","next-text":"Sau >",onCurrentChange:e.handlePageChange},null,8,["page-size","current-page","total","onCurrentChange"])])])]),_:1}),a(Te,{title:`Chi tiết model: ${e.viewModelData.tenModel||"Không rõ"}`,modelValue:e.dialogVisible,"onUpdate:modelValue":t[33]||(t[33]=s=>e.dialogVisible=s),width:"60%","before-close":()=>e.dialogVisible=!1,style:{"margin-top":"10px"},class:"detail-dialog"},{footer:l(()=>[g("div",rn,[a(i,{size:"large",onClick:t[32]||(t[32]=s=>e.dialogVisible=!1)},{default:l(()=>[a(v,null,{default:l(()=>[a(Me)]),_:1}),t[56]||(t[56]=D(" Đóng "))]),_:1}),a(i,{type:"primary",size:"large",onClick:e.switchToEditMode},{default:l(()=>[a(v,null,{default:l(()=>[a(me)]),_:1}),t[57]||(t[57]=D(" Chuyển sang sửa "))]),_:1},8,["onClick"])])]),default:l(()=>[g("div",Al,[g("div",Ul,[g("div",Fl,[t[45]||(t[45]=g("div",{class:"detail-label"},"Mã model",-1)),g("div",El,E(e.viewModelData.maModelSanPham||"Không rõ"),1)]),g("div",jl,[t[46]||(t[46]=g("div",{class:"detail-label"},"Tên model",-1)),g("div",Kl,E(e.viewModelData.tenModel||"Không rõ"),1)]),g("div",Il,[t[47]||(t[47]=g("div",{class:"detail-label"},"RAM",-1)),g("div",Nl,[a(j,{type:"warning"},{default:l(()=>[D(E(e.ramLabel(e.viewModelData.idRam)),1)]),_:1})])]),g("div",zl,[t[48]||(t[48]=g("div",{class:"detail-label"},"CPU",-1)),g("div",Ol,[a(j,{type:"success"},{default:l(()=>[D(E(e.cpuLabel(e.viewModelData.idCpu)),1)]),_:1})])]),g("div",ql,[t[49]||(t[49]=g("div",{class:"detail-label"},"Màn hình",-1)),g("div",Gl,[a(j,{type:"info"},{default:l(()=>[D(E(e.manHinhLabel(e.viewModelData.idManHinh)),1)]),_:1})])]),g("div",Wl,[t[50]||(t[50]=g("div",{class:"detail-label"},"Hệ điều hành",-1)),g("div",Ql,[a(j,{type:"primary"},{default:l(()=>[D(E(e.heDieuHanhLabel(e.viewModelData.idHeDieuHanh)),1)]),_:1})])]),g("div",Jl,[t[51]||(t[51]=g("div",{class:"detail-label"},"Pin",-1)),g("div",Yl,[a(j,null,{default:l(()=>[D(E(e.pinLabel(e.viewModelData.idPin)),1)]),_:1})])]),g("div",Zl,[t[52]||(t[52]=g("div",{class:"detail-label"},"Camera trước",-1)),g("div",$l,[a(j,{type:"warning"},{default:l(()=>[D(E(e.cameraTruocLabel(e.viewModelData.idCameraTruoc)),1)]),_:1})])]),g("div",en,[t[53]||(t[53]=g("div",{class:"detail-label"},"Camera sau",-1)),g("div",an,[a(j,{type:"info"},{default:l(()=>[D(E(e.cameraSauLabel(e.viewModelData.idCameraSau)),1)]),_:1})])]),g("div",ln,[t[54]||(t[54]=g("div",{class:"detail-label"},"Xuất xứ",-1)),g("div",nn,[a(j,{type:"info"},{default:l(()=>[D(E(e.xuatXuLabel(e.viewModelData.idXuatXu)),1)]),_:1})])]),g("div",on,[t[55]||(t[55]=g("div",{class:"detail-label"},"Loại",-1)),g("div",tn,[a(j,{type:"primary"},{default:l(()=>[D(E(e.loaiLabel(e.viewModelData.idLoai)),1)]),_:1})])])])])]),_:1},8,["title","modelValue","before-close"])])}const cn=$e(al,[["render",sn],["__scopeId","data-v-b180786e"]]);export{cn as default};
