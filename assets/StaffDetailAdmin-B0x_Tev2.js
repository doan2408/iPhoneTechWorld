import{_ as S,T as c,r as k,z as N,A as U,c as x,a1 as A,o as E,b as i,d as l,e as s,k as d,h as r,v as m,t as u,U as p,X as h,y as K,E as v}from"./index-I05jmhuU.js";import{d as C,u as w}from"./NhanVienServices-p0-AwVcR.js";const M={class:"staff-container"},D={class:"row"},B={class:"col-md-6 mb-2"},_={key:0,class:"text-danger mb-1"},L={class:"col-md-6 mb-2"},R={key:0,class:"text-danger mb-1"},j={class:"col-md-6 mb-2"},F={key:0,class:"text-danger mb-1"},I={class:"col-md-6 mb-2"},O={key:0,class:"text-danger mb-1"},q={class:"col-md-6 mb-2"},z={key:0,class:"text-danger mb-1"},G={class:"col-md-6 mb-2"},X={key:0,class:"text-danger mb-1"},H={class:"col-md-6 mb-2"},J={key:0,class:"text-danger mb-1"},P={class:"col-md-6 mb-2"},Q={key:0,class:"text-danger mb-1"},W={class:"col-md-6 mb-2"},Y={key:0,class:"text-danger mb-1"},Z={class:"col-md-6 mb-2"},$={key:0,class:"text-danger mb-1"},tt={__name:"StaffDetailAdmin",setup(st){const o=c({tenNhanVien:"",taiKhoan:"",email:"",sdt:"",diaChi:"",trangThai:"",chucVu:"",gioiTinh:!0,namSinh:""}),g=k(!1),n=c({}),f=N(),b=U(),y=f.params.id,V=async a=>{try{const t=await C(a);Object.assign(o,t)}catch(t){n=t.message||"Error while loading staff information"}finally{g.value=!1}},T=async()=>{Object.keys(n).forEach(a=>delete n[a]);try{const a=f.params.id,t=await w(a,o);v.success("Update nhân viên thành công"),setTimeout(()=>{b.push("/admin/staff")},1e3)}catch(a){Array.isArray(a)?a.forEach(({field:t,message:e})=>{n[t]=e}):v.success("Update nhân viên thất bại")}};return x(()=>{const a=A.state.role;return Array.isArray(a)&&a.map(t=>typeof t=="string"?t:t.authority)}),E(()=>{V(y)}),(a,t)=>(l(),i("div",M,[t[24]||(t[24]=s("h3",null,"Update nhân viên",-1)),s("form",{onSubmit:t[10]||(t[10]=K((...e)=>a.handleAddStaff&&a.handleAddStaff(...e),["prevent"]))},[s("div",D,[s("div",B,[n.tenNhanVien?(l(),i("div",_,u(n.tenNhanVien),1)):d("",!0),t[11]||(t[11]=r(" Tên Nhân Viên ")),m(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.tenNhanVien=e),placeholder:"Tên nhân viên",class:"form-control"},null,512),[[p,o.tenNhanVien]])]),s("div",L,[n.taiKhoan?(l(),i("div",R,u(n.taiKhoan),1)):d("",!0),t[12]||(t[12]=r(" Tài khoản ")),m(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.taiKhoan=e),placeholder:"Tên đăng nhập",class:"form-control"},null,512),[[p,o.taiKhoan]])]),s("div",j,[n.email?(l(),i("div",F,u(n.email),1)):d("",!0),t[13]||(t[13]=r(" Email ")),m(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.email=e),placeholder:"Email",class:"form-control"},null,512),[[p,o.email]])]),s("div",I,[n.matKhau?(l(),i("div",O,u(n.matKhau),1)):d("",!0),t[14]||(t[14]=r(" Mật khẩu ")),m(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.matKhau=e),type:"password",placeholder:"Mật khẩu",class:"form-control"},null,512),[[p,o.matKhau]])]),s("div",q,[n.sdt?(l(),i("div",z,u(n.sdt),1)):d("",!0),t[15]||(t[15]=r(" Số điện thoại ")),m(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.sdt=e),placeholder:"Số điện thoại",class:"form-control"},null,512),[[p,o.sdt]])]),s("div",G,[n.diaChi?(l(),i("div",X,u(n.diaChi),1)):d("",!0),t[16]||(t[16]=r(" Địa chỉ ")),m(s("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.diaChi=e),placeholder:"Địa chỉ",class:"form-control"},null,512),[[p,o.diaChi]])]),s("div",H,[n.trangThai?(l(),i("div",J,u(n.trangThai),1)):d("",!0),t[18]||(t[18]=r(" Trạng thái ")),m(s("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.trangThai=e),class:"form-select"},t[17]||(t[17]=[s("option",{value:"ENABLE"},"Đang làm",-1),s("option",{value:"DISABLE"},"Nghỉ",-1)]),512),[[h,o.trangThai]])]),s("div",P,[n.chucVu?(l(),i("div",Q,u(n.chucVu),1)):d("",!0),t[20]||(t[20]=r(" Chức vụ ")),m(s("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.chucVu=e),class:"form-select"},t[19]||(t[19]=[s("option",{value:"STAFF"},"Nhân Viên",-1)]),512),[[h,o.chucVu]])]),s("div",W,[n.gioiTinh?(l(),i("div",Y,u(n.gioiTinh),1)):d("",!0),t[22]||(t[22]=r(" Giới tính ")),m(s("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.gioiTinh=e),class:"form-select"},t[21]||(t[21]=[s("option",{value:!0},"Nam",-1),s("option",{value:!1},"Nữ",-1)]),512),[[h,o.gioiTinh]])]),s("div",Z,[n.namSinh?(l(),i("div",$,u(n.namSinh),1)):d("",!0),t[23]||(t[23]=r(" Năm sinh ")),m(s("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.namSinh=e),placeholder:"Năm sinh",type:"date",class:"form-control"},null,512),[[p,o.namSinh]])])]),s("button",{type:"submit",onClick:T,class:"btn btn-success mt-2"}," Update thông tin ")],32)]))}},ot=S(tt,[["__scopeId","data-v-f2cc58dd"]]);export{ot as default};
